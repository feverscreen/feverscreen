(()=>{"use strict";var e={2871:(e,t,r)=>{r.d(t,{i:()=>f});var n,a=r(6798),s=r(897);function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){_(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function _(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}(function(e){e[e["Connecting"]=0]="Connecting",e[e["Connected"]=1]="Connected",e[e["Disconnected"]=2]="Disconnected"})(n||(n={}));const c=(new Date).getTime();class f{constructor(e,t,r,n){this.host=e,this.onFrame=r,this.onConnectionStateChange=n,this.state={socket:null,UUID:(new Date).getTime(),stats:{skippedFramesServer:0,skippedFramesClient:0},pendingFrame:null,prevFrameNum:-1,heartbeatInterval:0,frames:[]},this.connect()}retryConnection(e){e>0?setTimeout((()=>this.retryConnection(e-1)),1e3):this.connect()}register(){null!==this.state.socket&&(this.state.socket.readyState===WebSocket.OPEN?(this.state.socket.send(JSON.stringify({type:"Register",data:navigator.userAgent,uuid:c})),this.onConnectionStateChange(n.Connected),this.state.heartbeatInterval=setInterval((()=>{this.state.socket&&this.state.socket.send(JSON.stringify({type:"Heartbeat",uuid:c}))}),5e3)):setTimeout(this.register.bind(this),100))}connect(){var e=this;this.state.socket=new WebSocket(`ws://${this.host}/ws`),this.onConnectionStateChange(n.Connecting),this.state.socket.addEventListener("error",(e=>{console.warn("Websocket Connection error",e)})),this.state.socket.addEventListener("open",this.register.bind(this)),this.state.socket.addEventListener("close",(()=>{console.warn("Websocket closed"),this.state.socket=null,this.onConnectionStateChange(n.Disconnected),clearInterval(this.state.heartbeatInterval),this.retryConnection(5)})),this.state.socket.addEventListener("message",(async function(t){if(t.data instanceof Blob){const r=!1;r?(e.state.frames.push(await e.parseFrame(t.data)),e.state.pendingFrame=setTimeout(e.useLatestFrame.bind(e),1)):e.onFrame(await e.parseFrame(t.data))}}))}async parseFrame(e){const t=await a.Nt.arrayBuffer(e),r=new Uint16Array(t.slice(0,2))[0],n=2+r;try{const e=JSON.parse(String.fromCharCode(...new Uint8Array(t.slice(2,n))));null===e.Calibration&&(e.Calibration=i({},s.tL),e.Calibration.UuidOfUpdater=c,e.Calibration.CalibrationBinaryVersion=e.BinaryVersion);const r=e.Telemetry.FrameCount;r%20===0&&(performance.clearMarks(),performance.clearMeasures(),performance.clearResourceTimings()),performance.mark(`start frame ${r}`),-1!==this.state.prevFrameNum&&this.state.prevFrameNum+1!==e.Telemetry.FrameCount&&(this.state.stats.skippedFramesServer+=e.Telemetry.FrameCount-this.state.prevFrameNum),this.state.prevFrameNum=e.Telemetry.FrameCount;const a=e.Camera.ResX*e.Camera.ResY*2,o=new Uint16Array(t.slice(n,n+a));return{frameInfo:e,frame:o}}catch(o){console.error("Malformed JSON payload",o)}return null}async useLatestFrame(){this.state.pendingFrame&&clearTimeout(this.state.pendingFrame);let e=0,t=null;const r=[];while(0!==this.state.frames.length){const n=this.state.frames.shift(),a=n.frameInfo,s=a.Telemetry.TimeOn/1e3/1e3;s>e&&(null!==t&&r.push(t),e=s,t=n)}while(0!==r.length){const t=r.shift(),n=t.frameInfo.Telemetry.TimeOn/1e3/1e3;this.state.stats.skippedFramesClient++,this.state.socket?this.state.socket.send(JSON.stringify({type:"Dropped late frame",data:`${e-n}ms behind current: frame#${t.frameInfo.Telemetry.FrameCount}`,uuid:c})):console.warn("Lost web socket connection")}null!==t&&await this.onFrame(t),this.state.stats.skippedFramesClient=0,this.state.stats.skippedFramesServer=0}}},3352:(e,t,r)=>{r.a(e,(async e=>{var t=r(2871),n=r(5347),a=r(3620),s=r(897);function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){_(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function _(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const{initWithCptvData:c,getRawFrame:f}=n.Z;let l=!1,u=!1;const m=await(0,a.T)();console.info=(...e)=>{self.postMessage({type:"info",payload:e})};const p=async e=>{var t,r;let n=e.frameInfo.Telemetry.TimeOn-e.frameInfo.Telemetry.LastFFCTime;return l&&(n=n/1e3/1e3),m.analyse(e.frame,null!==(t=null===(r=e.frameInfo.Calibration)||void 0===r?void 0:r.ThermalRefTemp)&&void 0!==t?t:37,n),m.getFrame()};let g=new Uint8Array(0);async function h(e){const t=await p(e);self.postMessage({type:"gotFrame",payload:{frameInfo:e.frameInfo,frame:e.frame,bodyShape:t.bodyShape,analysisResult:t.analysisResult}})}function b(e){self.postMessage({type:"connectionStateChange",payload:e})}function w(e=-1,t=-1){let r=f(g);while(r.frame_number<e||-1!=t&&r.frame_number>t)r=f(g);const n="",a="",o={frame:new Uint16Array(g.buffer),frameInfo:i(i({},s.Pk),{},{AppVersion:n,BinaryVersion:a,Telemetry:i(i({},s.Pk.Telemetry),{},{LastFFCTime:r.last_ffc_time,FrameCount:r.frame_number,TimeOn:r.time_on})})};r.free(),setTimeout(w,1),h(o)}function d(e,t=0,r=-1){g=new Uint8Array(38400),c(new Uint8Array(e)),w(0)}self.onmessage=async e=>{if(!u){u=!0;const a=e.data;if(l=a.useLiveCamera||!1,a.useLiveCamera)new t.i(a.hostname,a.port,h,b);else if(a.cptvFileToPlayback){const e=new URL(r(3488),r.b);await(0,n.Z)(e);const t=await fetch(a.cptvFileToPlayback),s=await t.arrayBuffer();d(s,a.startFrame||0,a.endFrame||-1)}}},e()}),1)},3620:(e,t,r)=>{let n;r.d(t,{T:()=>V});const a=new Array(32).fill(void 0);function s(e){return a[e]}a.push(void 0,null,!0,!1);let o=a.length;function i(e){e<36||(a[e]=o,o=e)}function _(e){const t=s(e);return i(e),t}let c=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0});c.decode();let f=null;function l(){return null!==f&&f.buffer===n.memory.buffer||(f=new Uint8Array(n.memory.buffer)),f}function u(e,t){return c.decode(l().subarray(e,e+t))}function m(e){o===a.length&&a.push(a.length+1);const t=o;return o=a[t],a[t]=e,t}function p(e){return void 0===e||null===e}let g=null;function h(){return null!==g&&g.buffer===n.memory.buffer||(g=new Float64Array(n.memory.buffer)),g}let b=null;function w(){return null!==b&&b.buffer===n.memory.buffer||(b=new Int32Array(n.memory.buffer)),b}let d=32;function y(e){if(1==d)throw new Error("out of js stack");return a[--d]=e,d}function v(e,t,r){try{var s=n.analyse(y(e),y(t),y(r));return C.__wrap(s)}finally{a[d++]=void 0,a[d++]=void 0,a[d++]=void 0}}function S(){var e=n.getBodyShape();return _(e)}function F(e,t){n.initialize(m(e),m(t))}function T(e,t){if(!(e instanceof t))throw new Error(`expected instance of ${t.name}`);return e.ptr}let R=0,O=new TextEncoder("utf-8");const L="function"===typeof O.encodeInto?function(e,t){return O.encodeInto(e,t)}:function(e,t){const r=O.encode(e);return t.set(r),{read:e.length,written:r.length}};function k(e,t,r){if(void 0===r){const r=O.encode(e),n=t(r.length);return l().subarray(n,n+r.length).set(r),R=r.length,n}let n=e.length,a=t(n);const s=l();let o=0;for(;o<n;o++){const t=e.charCodeAt(o);if(t>127)break;s[a+o]=t}if(o!==n){0!==o&&(e=e.slice(o)),a=r(a,n,n=o+3*e.length);const t=l().subarray(a+o,a+n),s=L(e,t);o+=s.written}return R=o,a}Object.freeze({WarmingUp:0,0:"WarmingUp",Ready:1,1:"Ready",HeadLock:2,2:"HeadLock",TooFar:3,3:"TooFar",HasBody:4,4:"HasBody",FaceLock:5,5:"FaceLock",FrontalLock:6,6:"FrontalLock",StableLock:7,7:"StableLock",Measured:8,8:"Measured",MissingThermalRef:9,9:"MissingThermalRef",Blurred:10,10:"Blurred",AfterFfcEvent:11,11:"AfterFfcEvent"}),Object.freeze({Bad:0,0:"Bad",Partial:1,1:"Partial",Stable:2,2:"Stable"}),Object.freeze({Unknown:0,0:"Unknown",Valid:1,1:"Valid",TooMuchTilt:2,2:"TooMuchTilt"});class C{static __wrap(e){const t=Object.create(C.prototype);return t.ptr=e,t}__destroy_into_raw(){const e=this.ptr;return this.ptr=0,e}free(){const e=this.__destroy_into_raw();n.__wbg_analysisresult_free(e)}get motionSum(){var e=n.__wbg_get_analysisresult_motionSum(this.ptr);return e}set motionSum(e){n.__wbg_set_analysisresult_motionSum(this.ptr,e)}get motionThresholdSum(){var e=n.__wbg_get_analysisresult_motionThresholdSum(this.ptr);return e}set motionThresholdSum(e){n.__wbg_set_analysisresult_motionThresholdSum(this.ptr,e)}get thresholdSum(){var e=n.__wbg_get_analysisresult_thresholdSum(this.ptr);return e}set thresholdSum(e){n.__wbg_set_analysisresult_thresholdSum(this.ptr,e)}get frameBottomSum(){var e=n.__wbg_get_analysisresult_frameBottomSum(this.ptr);return e}set frameBottomSum(e){n.__wbg_set_analysisresult_frameBottomSum(this.ptr,e)}get hasBody(){var e=n.__wbg_get_analysisresult_hasBody(this.ptr);return 0!==e}set hasBody(e){n.__wbg_set_analysisresult_hasBody(this.ptr,e)}get heatStats(){var e=n.__wbg_get_analysisresult_heatStats(this.ptr);return B.__wrap(e)}set heatStats(e){T(e,B);var t=e.ptr;e.ptr=0,n.__wbg_set_analysisresult_heatStats(this.ptr,t)}get face(){var e=n.__wbg_get_analysisresult_face(this.ptr);return E.__wrap(e)}set face(e){T(e,E);var t=e.ptr;e.ptr=0,n.__wbg_set_analysisresult_face(this.ptr,t)}get nextState(){var e=n.__wbg_get_analysisresult_nextState(this.ptr);return e>>>0}set nextState(e){n.__wbg_set_analysisresult_nextState(this.ptr,e)}get thermalReference(){var e=n.__wbg_get_analysisresult_thermalReference(this.ptr);return I.__wrap(e)}set thermalReference(e){T(e,I);var t=e.ptr;e.ptr=0,n.__wbg_set_analysisresult_thermalReference(this.ptr,t)}}class A{static __wrap(e){const t=Object.create(A.prototype);return t.ptr=e,t}__destroy_into_raw(){const e=this.ptr;return this.ptr=0,e}free(){const e=this.__destroy_into_raw();n.__wbg_circle_free(e)}get center(){var e=n.__wbg_get_circle_center(this.ptr);return x.__wrap(e)}set center(e){T(e,x);var t=e.ptr;e.ptr=0,n.__wbg_set_circle_center(this.ptr,t)}get radius(){var e=n.__wbg_get_circle_radius(this.ptr);return e}set radius(e){n.__wbg_set_circle_radius(this.ptr,e)}}class E{static __wrap(e){const t=Object.create(E.prototype);return t.ptr=e,t}__destroy_into_raw(){const e=this.ptr;return this.ptr=0,e}free(){const e=this.__destroy_into_raw();n.__wbg_faceinfo_free(e)}get isValid(){var e=n.__wbg_get_faceinfo_isValid(this.ptr);return 0!==e}set isValid(e){n.__wbg_set_faceinfo_isValid(this.ptr,e)}get halfwayRatio(){var e=n.__wbg_get_faceinfo_halfwayRatio(this.ptr);return e}set halfwayRatio(e){n.__wbg_set_faceinfo_halfwayRatio(this.ptr,e)}get headLock(){var e=n.__wbg_get_faceinfo_headLock(this.ptr);return e>>>0}set headLock(e){n.__wbg_set_faceinfo_headLock(this.ptr,e)}get head(){var e=n.__wbg_get_faceinfo_head(this.ptr);return P.__wrap(e)}set head(e){T(e,P);var t=e.ptr;e.ptr=0,n.__wbg_set_faceinfo_head(this.ptr,t)}get samplePoint(){var e=n.__wbg_get_faceinfo_samplePoint(this.ptr);return x.__wrap(e)}set samplePoint(e){T(e,x);var t=e.ptr;e.ptr=0,n.__wbg_set_faceinfo_samplePoint(this.ptr,t)}get sampleValue(){var e=n.__wbg_get_faceinfo_sampleValue(this.ptr);return e}set sampleValue(e){n.__wbg_set_faceinfo_sampleValue(this.ptr,e)}get sampleTemp(){var e=n.__wbg_get_faceinfo_sampleTemp(this.ptr);return e}set sampleTemp(e){n.__wbg_set_faceinfo_sampleTemp(this.ptr,e)}get idealSamplePoint(){var e=n.__wbg_get_faceinfo_idealSamplePoint(this.ptr);return x.__wrap(e)}set idealSamplePoint(e){T(e,x);var t=e.ptr;e.ptr=0,n.__wbg_set_faceinfo_idealSamplePoint(this.ptr,t)}get idealSampleValue(){var e=n.__wbg_get_faceinfo_idealSampleValue(this.ptr);return e}set idealSampleValue(e){n.__wbg_set_faceinfo_idealSampleValue(this.ptr,e)}get idealSampleTemp(){var e=n.__wbg_get_faceinfo_idealSampleTemp(this.ptr);return e}set idealSampleTemp(e){n.__wbg_set_faceinfo_idealSampleTemp(this.ptr,e)}get reason(){var e=n.__wbg_get_faceinfo_reason(this.ptr);return e>>>0}set reason(e){n.__wbg_set_faceinfo_reason(this.ptr,e)}}class B{static __wrap(e){const t=Object.create(B.prototype);return t.ptr=e,t}__destroy_into_raw(){const e=this.ptr;return this.ptr=0,e}free(){const e=this.__destroy_into_raw();n.__wbg_heatstats_free(e)}get min(){var e=n.__wbg_get_heatstats_min(this.ptr);return e}set min(e){n.__wbg_set_heatstats_min(this.ptr,e)}get max(){var e=n.__wbg_get_heatstats_max(this.ptr);return e}set max(e){n.__wbg_set_heatstats_max(this.ptr,e)}get threshold(){var e=n.__wbg_get_heatstats_threshold(this.ptr);return e}set threshold(e){n.__wbg_set_heatstats_threshold(this.ptr,e)}}class x{static __wrap(e){const t=Object.create(x.prototype);return t.ptr=e,t}__destroy_into_raw(){const e=this.ptr;return this.ptr=0,e}free(){const e=this.__destroy_into_raw();n.__wbg_point_free(e)}get x(){var e=n.__wbg_get_point_x(this.ptr);return e}set x(e){n.__wbg_set_point_x(this.ptr,e)}get y(){var e=n.__wbg_get_point_y(this.ptr);return e}set y(e){n.__wbg_set_point_y(this.ptr,e)}}class P{static __wrap(e){const t=Object.create(P.prototype);return t.ptr=e,t}__destroy_into_raw(){const e=this.ptr;return this.ptr=0,e}free(){const e=this.__destroy_into_raw();n.__wbg_quad_free(e)}get topLeft(){var e=n.__wbg_get_circle_center(this.ptr);return x.__wrap(e)}set topLeft(e){T(e,x);var t=e.ptr;e.ptr=0,n.__wbg_set_circle_center(this.ptr,t)}get topRight(){var e=n.__wbg_get_quad_topRight(this.ptr);return x.__wrap(e)}set topRight(e){T(e,x);var t=e.ptr;e.ptr=0,n.__wbg_set_quad_topRight(this.ptr,t)}get bottomLeft(){var e=n.__wbg_get_quad_bottomLeft(this.ptr);return x.__wrap(e)}set bottomLeft(e){T(e,x);var t=e.ptr;e.ptr=0,n.__wbg_set_quad_bottomLeft(this.ptr,t)}get bottomRight(){var e=n.__wbg_get_quad_bottomRight(this.ptr);return x.__wrap(e)}set bottomRight(e){T(e,x);var t=e.ptr;e.ptr=0,n.__wbg_set_quad_bottomRight(this.ptr,t)}}class I{static __wrap(e){const t=Object.create(I.prototype);return t.ptr=e,t}__destroy_into_raw(){const e=this.ptr;return this.ptr=0,e}free(){const e=this.__destroy_into_raw();n.__wbg_thermalreference_free(e)}get geom(){var e=n.__wbg_get_thermalreference_geom(this.ptr);return A.__wrap(e)}set geom(e){T(e,A);var t=e.ptr;e.ptr=0,n.__wbg_set_thermalreference_geom(this.ptr,t)}get val(){var e=n.__wbg_get_thermalreference_val(this.ptr);return e}set val(e){n.__wbg_set_thermalreference_val(this.ptr,e)}get temp(){var e=n.__wbg_get_thermalreference_temp(this.ptr);return e}set temp(e){n.__wbg_set_thermalreference_temp(this.ptr,e)}}async function U(e,t){if("function"===typeof Response&&e instanceof Response){if("function"===typeof WebAssembly.instantiateStreaming)try{return await WebAssembly.instantiateStreaming(e,t)}catch(r){if("application/wasm"==e.headers.get("Content-Type"))throw r;console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",r)}const n=await e.arrayBuffer();return await WebAssembly.instantiate(n,t)}{const r=await WebAssembly.instantiate(e,t);return r instanceof WebAssembly.Instance?{instance:r,module:e}:r}}async function j(e){"undefined"===typeof e&&(e=new URL("tko_processing_bg.wasm","/static/dist/"));const t={wbg:{}};t.wbg.__wbindgen_object_drop_ref=function(e){_(e)},t.wbg.__wbindgen_string_new=function(e,t){var r=u(e,t);return m(r)},t.wbg.__wbg_new_59cb74e423758ede=function(){var e=new Error;return m(e)},t.wbg.__wbg_stack_558ba5917b466edd=function(e,t){var r=s(t).stack,a=k(r,n.__wbindgen_malloc,n.__wbindgen_realloc),o=R;w()[e/4+1]=o,w()[e/4+0]=a},t.wbg.__wbg_error_4bb6c2a97407129a=function(e,t){try{console.error(u(e,t))}finally{n.__wbindgen_free(e,t)}},t.wbg.__wbg_debug_3c0b82934d1dd91e=function(e){console.debug(s(e))},t.wbg.__wbg_error_9ff84d33a850b1ef=function(e){console.error(s(e))},t.wbg.__wbg_info_3b2058a219fa31b9=function(e){console.info(s(e))},t.wbg.__wbg_log_386a8115a84a780d=function(e){console.log(s(e))},t.wbg.__wbg_warn_5fc232d538408d4a=function(e){console.warn(s(e))},t.wbg.__wbg_buffer_ebc6c8e75510eae3=function(e){var t=s(e).buffer;return m(t)},t.wbg.__wbg_newwithbyteoffsetandlength_ca3d3d8811ecb569=function(e,t,r){var n=new Uint8Array(s(e),t>>>0,r>>>0);return m(n)},t.wbg.__wbg_length_d984ad757a338649=function(e){var t=s(e).length;return t},t.wbg.__wbg_new_3df503b9c443e990=function(e){var t=new Uint16Array(s(e));return m(t)},t.wbg.__wbg_set_b629c9b89ba1d25c=function(e,t,r){s(e).set(s(t),r>>>0)},t.wbg.__wbg_newwithbyteoffsetandlength_ab2b53c614369e0e=function(e,t,r){var n=new Float32Array(s(e),t>>>0,r>>>0);return m(n)},t.wbg.__wbindgen_number_get=function(e,t){const r=s(t);var n="number"===typeof r?r:void 0;h()[e/8+1]=p(n)?0:n,w()[e/4+0]=!p(n)},t.wbg.__wbindgen_throw=function(e,t){throw new Error(u(e,t))},t.wbg.__wbindgen_memory=function(){var e=n.memory;return m(e)},("string"===typeof e||"function"===typeof Request&&e instanceof Request||"function"===typeof URL&&e instanceof URL)&&(e=fetch(e));const{instance:r,module:a}=await U(await e,t);return n=r.exports,j.__wbindgen_wasm_module=a,n}const M=j;var D=r(897);async function V(){const e=new URL(r(5110),r.b);await M(e),F(120,160);let t=0;const n=[];return{analyse(e,r,a){const s=t,o=new Promise((t=>{const o=v(e,r,a),i=S().slice(0),_=(0,D.kQ)(o),c=n.findIndex((e=>e.frame===s));if(!(c<=0)){const e=n.splice(0,c);e.length>1&&console.log("Could not keep up proccesing frames. Removing frames: ",e)}t({bodyShape:i,analysisResult:_})}));t+=1,n.push({frame:s,image:o})},async getFrame(){const e=await Promise.race(n.map((e=>e.image)));return n.splice(0,n.length),e}}}},897:(e,t,r)=>{var n;r.d(t,{tL:()=>s,Pk:()=>i,kQ:()=>c}),function(e){e[e["Valid"]=0]="Valid",e[e["Invalid"]=1]="Invalid",e[e["Unregistered"]=2]="Unregistered"}(n||(n={}));const a=37.5,s={ThermalRefTemp:37.87441329956055,SnapshotTime:0,TemperatureCelsius:37.5,SnapshotValue:30197.9765625,ThresholdMinFever:a,HeadBLX:0,HeadBLY:0,HeadBRX:0,HeadBRY:0,HeadTLX:0,HeadTLY:0,HeadTRX:0,HeadTRY:0,CalibrationBinaryVersion:"abcde",UuidOfUpdater:432423432432,UseNormalSound:!0,UseWarningSound:!0,UseErrorSound:!0};var o;(function(e){e["INIT"]="INIT",e["WARMING_UP"]="WARMING_UP",e["READY"]="READY",e["HEAD_LOCK"]="HEAD_LOCK",e["TOO_FAR"]="TOO_FAR",e["LARGE_BODY"]="LARGE_BODY",e["MULTIPLE_HEADS"]="MULTIPLE_HEADS",e["FACE_LOCK"]="FACE_LOCK",e["FRONTAL_LOCK"]="FRONTAL_LOCK",e["STABLE_LOCK"]="STABLE_LOCK",e["MEASURED"]="MEASURED",e["MISSING_THERMAL_REF"]="MISSING_REF",e["BLURRED"]="BLURRED",e["AFTER_FFC_EVENT"]="AFTER_FFC_EVENT"})(o||(o={}));const i={Camera:{ResX:160,ResY:120,FPS:9,Brand:"flir",Model:"lepton3.5",Firmware:"3.3.26",CameraSerial:12345},Telemetry:{FrameCount:1,TimeOn:1,FFCState:"On",FrameMean:0,TempC:0,LastFFCTempC:0,LastFFCTime:0},AppVersion:"",BinaryVersion:"",Calibration:s};function _(e){let t=o.INIT;switch(e){case 0:t=o.WARMING_UP;break;case 1:t=o.READY;break;case 2:t=o.HEAD_LOCK;break;case 3:t=o.TOO_FAR;break;case 4:t=o.LARGE_BODY;break;case 5:t=o.FACE_LOCK;break;case 6:t=o.FRONTAL_LOCK;break;case 7:t=o.STABLE_LOCK;break;case 8:t=o.MEASURED;break;case 9:t=o.MISSING_THERMAL_REF;break;case 10:t=o.BLURRED;break;case 11:t=o.AFTER_FFC_EVENT;break}return t}function c(e){const t=e.face,r=t.head,n=r.topLeft,a=r.topRight,s=r.bottomLeft,o=r.bottomRight,i=t.samplePoint,c=e.heatStats,f=e.thermalReference,l=e.thermalReference.geom,u=l.center,m={face:{headLock:t.headLock,head:{topLeft:{x:n.x,y:n.y},topRight:{x:a.x,y:a.y},bottomLeft:{x:s.x,y:s.y},bottomRight:{x:o.x,y:o.y}},samplePoint:{x:i.x,y:i.y},sampleTemp:t.sampleTemp,sampleValue:t.sampleValue,halfwayRatio:t.halfwayRatio,isValid:t.isValid},frameBottomSum:e.frameBottomSum,motionSum:e.motionSum,heatStats:{threshold:c.threshold,min:c.min,max:c.max},motionThresholdSum:e.motionThresholdSum,thresholdSum:e.thresholdSum,nextState:_(e.nextState),hasBody:e.hasBody,thermalRef:{geom:{center:{x:u.x,y:u.y},radius:l.radius},val:f.val,temp:f.temp}};return t.free(),r.free(),n.free(),a.free(),s.free(),o.free(),i.free(),c.free(),u.free(),l.free(),f.free(),e.free(),m}},6798:(e,t,r)=>{r.d(t,{Nt:()=>n});const n=function(){const e="arrayBuffer"in Blob.prototype&&"function"===typeof Blob.prototype["arrayBuffer"]?e=>e["arrayBuffer"]():e=>new Promise(((t,r)=>{const n=new FileReader;n.addEventListener("load",(()=>{t(n.result)})),n.addEventListener("error",(()=>{r()})),n.readAsArrayBuffer(e)}));return{arrayBuffer:e}}()},5347:(e,t,r)=>{r.d(t,{Z:()=>n}),function(){const e={};let t;e.initBufferWithSize=function(e){t.initBufferWithSize(e)};let r=null;function n(){return null!==r&&r.buffer===t.memory.buffer||(r=new Uint8Array(t.memory.buffer)),r}let a=0;function s(e){const r=t.__wbindgen_malloc(1*e.length);return n().set(e,r/1),a=e.length,r}e.insertChunkAtOffset=function(e,r){t.insertChunkAtOffset(s(e),a,r)};const o=new Array(32);function i(e){return o[e]}o.fill(void 0),o.push(void 0,null,!0,!1);let _=o.length;function c(e){e<36||(o[e]=_,_=e)}function f(e){const t=i(e);return c(e),t}function l(e){_===o.length&&o.push(o.length+1);const t=_;return _=o[t],o[t]=e,t}e.initWithCptvData=function(e){const r=t.initWithCptvData(s(e),a);return f(r)},e.getNumFrames=function(){const e=t.getNumFrames();return e>>>0},e.getWidth=function(){const e=t.getWidth();return e>>>0},e.getHeight=function(){const e=t.getHeight();return e>>>0},e.getFrameRate=function(){const e=t.getFrameRate();return e},e.getFramesPerIframe=function(){const e=t.getFramesPerIframe();return e},e.getMinValue=function(){const e=t.getMinValue();return e},e.getMaxValue=function(){const e=t.getMaxValue();return e},e.getHeader=function(){const e=t.getHeader();return f(e)},e.queueFrame=function(e,r){const n=t.queueFrame(e,l(r));return 0!==n},e.getFrame=function(e,r){const o=s(r),i=a;try{const a=t.getFrame(e,o,i);return 0!==a}finally{r.set(n().subarray(o/1,o/1+i)),t.__wbindgen_free(o,1*i)}},e.getRawFrame=function(e){const r=s(e),o=a;try{const a=t.getRawFrame(r,o);return d.__wrap(a)}finally{e.set(n().subarray(r/1,r/1+o)),t.__wbindgen_free(r,1*o)}};let u=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0});function m(e,t){return u.decode(n().subarray(e,e+t))}u.decode();let p=new TextEncoder("utf-8");const g="function"===typeof p.encodeInto?function(e,t){return p.encodeInto(e,t)}:function(e,t){const r=p.encode(e);return t.set(r),{read:e.length,written:r.length}};function h(e){let r=e.length,s=t.__wbindgen_malloc(r);const o=n();let i=0;for(;i<r;i++){const t=e.charCodeAt(i);if(t>127)break;o[s+i]=t}if(i!==r){0!==i&&(e=e.slice(i)),s=t.__wbindgen_realloc(s,r,r=i+3*e.length);const a=n().subarray(s+i,s+r),o=g(e,a);i+=o.written}return a=i,s}let b=null;function w(){return null!==b&&b.buffer===t.memory.buffer||(b=new Int32Array(t.memory.buffer)),b}class d{static __wrap(e){const t=Object.create(d.prototype);return t.ptr=e,t}free(){const e=this.ptr;this.ptr=0,t.__wbg_frameheaderv2_free(e)}get time_on(){const e=t.__wbg_get_frameheaderv2_time_on(this.ptr);return e>>>0}set time_on(e){t.__wbg_set_frameheaderv2_time_on(this.ptr,e)}get last_ffc_time(){const e=t.__wbg_get_frameheaderv2_last_ffc_time(this.ptr);return e>>>0}set last_ffc_time(e){t.__wbg_set_frameheaderv2_last_ffc_time(this.ptr,e)}get frame_number(){const e=t.__wbg_get_frameheaderv2_frame_number(this.ptr);return e>>>0}set frame_number(e){t.__wbg_set_frameheaderv2_frame_number(this.ptr,e)}get has_next_frame(){const e=t.__wbg_get_frameheaderv2_has_next_frame(this.ptr);return 0!==e}set has_next_frame(e){t.__wbg_set_frameheaderv2_has_next_frame(this.ptr,e)}}function y(e){let r;const n={wbg:{}};if(n.wbg.__wbindgen_object_drop_ref=function(e){f(e)},n.wbg.__wbindgen_string_new=function(e,t){const r=m(e,t);return l(r)},n.wbg.__widl_f_debug_1_=function(e){console.debug(i(e))},n.wbg.__widl_f_error_1_=function(e){console.error(i(e))},n.wbg.__widl_f_info_1_=function(e){console.info(i(e))},n.wbg.__widl_f_log_1_=function(e){console.log(i(e))},n.wbg.__widl_f_warn_1_=function(e){console.warn(i(e))},n.wbg.__wbg_new_59cb74e423758ede=function(){const e=new Error;return l(e)},n.wbg.__wbg_stack_558ba5917b466edd=function(e,t){const r=i(t).stack,n=h(r),s=a;w()[e/4+0]=n,w()[e/4+1]=s},n.wbg.__wbg_error_4bb6c2a97407129a=function(e,r){const n=m(e,r).slice();t.__wbindgen_free(e,1*r),console.error(n)},n.wbg.__wbindgen_throw=function(e,t){throw new Error(m(e,t))},n.wbg.__wbindgen_rethrow=function(e){throw f(e)},"function"===typeof URL&&e instanceof URL||"string"===typeof e||"function"===typeof Request&&e instanceof Request){const t=fetch(e);r="function"===typeof WebAssembly.instantiateStreaming?WebAssembly.instantiateStreaming(t,n).catch((e=>t.then((t=>{if("application/wasm"!=t.headers.get("Content-Type"))return console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",e),t.arrayBuffer();throw e})).then((e=>WebAssembly.instantiate(e,n))))):t.then((e=>e.arrayBuffer())).then((e=>WebAssembly.instantiate(e,n)))}else r=WebAssembly.instantiate(e,n).then((t=>t instanceof WebAssembly.Instance?{instance:t,module:e}:t));return r.then((({instance:e,module:r})=>(t=e.exports,y.__wbindgen_wasm_module=r,t)))}e.FrameHeaderV2=d,self.wasm_bindgen=Object.assign(y,e)}();const n=self.wasm_bindgen},3488:(e,t,r)=>{e.exports=r.p+"4bdc347a51fc6c5258da.wasm"},5110:(e,t,r)=>{e.exports=r.p+"553968c07f20b6964d10.wasm"}},t={};function r(n){var a=t[n];if(void 0!==a)return a.exports;var s=t[n]={exports:{}};return e[n](s,s.exports,r),s.exports}r.m=e,(()=>{var e="function"===typeof Symbol?Symbol("webpack then"):"__webpack_then__",t="function"===typeof Symbol?Symbol("webpack exports"):"__webpack_exports__",n=e=>{e&&(e.forEach((e=>e.r--)),e.forEach((e=>e.r--?e.r++:e())))},a=e=>!--e.r&&e(),s=(e,t)=>e?e.push(t):a(t),o=r=>r.map((r=>{if(null!==r&&"object"===typeof r){if(r[e])return r;if(r.then){var o=[];r.then((e=>{i[t]=e,n(o),o=0}));var i={};return i[e]=(e,t)=>(s(o,e),r.catch(t)),i}}var _={};return _[e]=e=>a(e),_[t]=r,_}));r.a=(r,i,_)=>{var c,f,l,u=_&&[],m=r.exports,p=!0,g=!1,h=(t,r,n)=>{g||(g=!0,r.r+=t.length,t.map(((t,a)=>t[e](r,n))),g=!1)},b=new Promise(((e,t)=>{l=t,f=()=>(e(m),n(u),u=0)}));b[t]=m,b[e]=(e,t)=>{if(p)return a(e);c&&h(c,e,t),s(u,e),b.catch(t)},r.exports=b,i((e=>{if(!e)return f();var r,n;c=o(e);var a=new Promise(((e,a)=>{r=()=>e(n=c.map((e=>e[t]))),r.r=0,h(c,r,a)}));return r.r?a:n})).then(f,l),p=!1}})(),(()=>{r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}})(),(()=>{r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t)})(),(()=>{r.p="/static/dist/"})(),(()=>{r.b=self.location+"/../../"})();r(3352)})();
//# sourceMappingURL=352.a7ab1c51.js.map