{"version":3,"file":"js/352.dadd3d96.js","mappings":"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","sources":["webpack://frontend/./src/camera.ts","webpack://frontend/./src/frame-listener.ts","webpack://frontend/./processing/tko_processing.js","webpack://frontend/./src/processing.ts","webpack://frontend/./src/types.ts","webpack://frontend/./src/utils.ts","webpack://frontend/./cptv_player/cptv_player.js","webpack://frontend/webpack/bootstrap","webpack://frontend/webpack/runtime/async module","webpack://frontend/webpack/runtime/define property getters","webpack://frontend/webpack/runtime/hasOwnProperty shorthand","webpack://frontend/webpack/runtime/publicPath","webpack://frontend/webpack/runtime/importScripts chunk loading","webpack://frontend/webpack/before-startup","webpack://frontend/webpack/startup","webpack://frontend/webpack/after-startup"],"sourcesContent":["import { BlobReader } from \"./utils\";\nimport { FrameInfo, PartialFrameInfo } from \"./api/types\";\nimport { AnalysisResult, FactoryDefaultCalibration } from \"@/types\";\n\nexport interface Frame {\n  frameInfo: FrameInfo;\n  frame: Uint16Array;\n  bodyShape: Uint8Array;\n  analysisResult: AnalysisResult;\n}\n\nexport interface PartialFrame {\n  frameInfo: PartialFrameInfo;\n  frame: Uint16Array;\n}\n\nexport enum CameraConnectionState {\n  Connecting,\n  Connected,\n  Disconnected\n}\n\nconst UUID = new Date().getTime();\n\ninterface CameraStats {\n  skippedFramesServer: number;\n  skippedFramesClient: number;\n}\n\ninterface CameraState {\n  socket: WebSocket | null;\n  UUID: number;\n  stats: CameraStats;\n  prevFrameNum: number;\n  frames: PartialFrame[];\n  heartbeatInterval: number;\n  pendingFrame: number | null;\n}\n\nexport class CameraConnection {\n  constructor(\n    public host: string,\n    port: string,\n    public onFrame: (frame: PartialFrame) => void,\n    public onConnectionStateChange: (\n      connectionState: CameraConnectionState\n    ) => void\n  ) {\n    if (\n      (port === \"8080\" || port === \"5000\") &&\n      process.env.NODE_ENV === \"development\"\n    ) {\n      // If we're running in development mode, find the remote camera server\n      //this.host = \"192.168.178.21\";\n      //this.host = \"192.168.0.181\";\n      this.host = \"192.168.86.43\";\n      //this.host = \"192.168.0.82\";\n      //this.host = \"192.168.0.41\";\n    }\n    this.connect();\n  }\n  private state: CameraState = {\n    socket: null,\n    UUID: new Date().getTime(),\n    stats: {\n      skippedFramesServer: 0,\n      skippedFramesClient: 0\n    },\n    pendingFrame: null,\n    prevFrameNum: -1,\n    heartbeatInterval: 0,\n    frames: []\n  };\n\n  retryConnection(retryTime: number) {\n    if (retryTime > 0) {\n      setTimeout(() => this.retryConnection(retryTime - 1), 1000);\n    } else {\n      this.connect();\n    }\n  }\n  register() {\n    if (this.state.socket !== null) {\n      if (this.state.socket.readyState === WebSocket.OPEN) {\n        // We are waiting for frames now.\n        this.state.socket.send(\n          JSON.stringify({\n            type: \"Register\",\n            data: navigator.userAgent,\n            uuid: UUID\n          })\n        );\n        this.onConnectionStateChange(CameraConnectionState.Connected);\n\n        this.state.heartbeatInterval = (setInterval(() => {\n          this.state.socket &&\n            this.state.socket.send(\n              JSON.stringify({\n                type: \"Heartbeat\",\n                uuid: UUID\n              })\n            );\n        }, 5000) as unknown) as number;\n      } else {\n        setTimeout(this.register.bind(this), 100);\n      }\n    }\n  }\n  connect() {\n    this.state.socket = new WebSocket(`ws://${this.host}/ws`);\n    this.onConnectionStateChange(CameraConnectionState.Connecting);\n    this.state.socket.addEventListener(\"error\", e => {\n      console.warn(\"Websocket Connection error\", e);\n      //...\n    });\n    // Connection opened\n    this.state.socket.addEventListener(\"open\", this.register.bind(this));\n    this.state.socket.addEventListener(\"close\", () => {\n      // When we do reconnect, we need to treat it as a new connection\n      console.warn(\"Websocket closed\");\n      this.state.socket = null;\n      this.onConnectionStateChange(CameraConnectionState.Disconnected);\n      clearInterval(this.state.heartbeatInterval);\n      this.retryConnection(5);\n    });\n    this.state.socket.addEventListener(\"message\", async event => {\n      if (event.data instanceof Blob) {\n        // TODO(jon): Only do this if we detect that we're dropping frames?\n        const droppingFrames = false;\n        if (droppingFrames) {\n          this.state.frames.push(\n            (await this.parseFrame(event.data as Blob)) as PartialFrame\n          );\n          // Process the latest frame, after waiting half a frame delay\n          // to see if there are any more frames hot on its heels.\n          this.state.pendingFrame = (setTimeout(\n            this.useLatestFrame.bind(this),\n            1\n          ) as unknown) as number;\n        } else {\n          this.onFrame(\n            (await this.parseFrame(event.data as Blob)) as PartialFrame\n          );\n        }\n        // Every time we get a frame, set a new timeout for when we decide that the camera has stalled sending us new frames.\n      }\n    });\n  }\n  async parseFrame(\n    blob: Blob\n  ): Promise<{ frameInfo: PartialFrameInfo; frame: Uint16Array } | null> {\n    // NOTE(jon): On iOS. it seems slow to do multiple fetches from the blob, so let's do it all at once.\n    const data = await BlobReader.arrayBuffer(blob);\n    const frameInfoLength = new Uint16Array(data.slice(0, 2))[0];\n    const frameStartOffset = 2 + frameInfoLength;\n    try {\n      const frameInfo = JSON.parse(\n        String.fromCharCode(...new Uint8Array(data.slice(2, frameStartOffset)))\n      ) as PartialFrameInfo;\n\n      if (frameInfo.Calibration === null) {\n        frameInfo.Calibration = { ...FactoryDefaultCalibration };\n        frameInfo.Calibration.UuidOfUpdater = UUID;\n        frameInfo.Calibration.CalibrationBinaryVersion =\n          frameInfo.BinaryVersion;\n      }\n\n      const frameNumber = frameInfo.Telemetry.FrameCount;\n      if (frameNumber % 20 === 0) {\n        performance.clearMarks();\n        performance.clearMeasures();\n        performance.clearResourceTimings();\n      }\n      performance.mark(`start frame ${frameNumber}`);\n      if (\n        this.state.prevFrameNum !== -1 &&\n        this.state.prevFrameNum + 1 !== frameInfo.Telemetry.FrameCount\n      ) {\n        this.state.stats.skippedFramesServer +=\n          frameInfo.Telemetry.FrameCount - this.state.prevFrameNum;\n        // Work out an fps counter.\n      }\n      this.state.prevFrameNum = frameInfo.Telemetry.FrameCount;\n      const frameSizeInBytes =\n        frameInfo.Camera.ResX * frameInfo.Camera.ResY * 2;\n      // TODO(jon): Some perf optimisations here.\n      const frame = new Uint16Array(\n        data.slice(frameStartOffset, frameStartOffset + frameSizeInBytes)\n      );\n      return {\n        frameInfo,\n        frame\n      };\n    } catch (e) {\n      console.error(\"Malformed JSON payload\", e);\n    }\n    return null;\n  }\n  async useLatestFrame() {\n    if (this.state.pendingFrame) {\n      clearTimeout(this.state.pendingFrame);\n    }\n    let latestFrameTimeOnMs = 0;\n    let latestFrame: PartialFrame | null = null;\n    // Turns out that we don't always get the messages in order from the pi, so make sure we take the latest one.\n    const framesToDrop: PartialFrame[] = [];\n    while (this.state.frames.length !== 0) {\n      const frame = this.state.frames.shift() as PartialFrame;\n      const frameHeader = frame.frameInfo;\n      const timeOn = frameHeader.Telemetry.TimeOn / 1000 / 1000;\n      if (timeOn > latestFrameTimeOnMs) {\n        if (latestFrame !== null) {\n          framesToDrop.push(latestFrame);\n        }\n        latestFrameTimeOnMs = timeOn;\n        latestFrame = frame;\n      }\n    }\n    // Clear out and log any old frames that need to be dropped\n    while (framesToDrop.length !== 0) {\n      const dropFrame = framesToDrop.shift() as PartialFrame;\n      const timeOn = dropFrame.frameInfo.Telemetry.TimeOn / 1000 / 1000;\n      this.state.stats.skippedFramesClient++;\n      if (this.state.socket) {\n        (this.state.socket as WebSocket).send(\n          JSON.stringify({\n            type: \"Dropped late frame\",\n            data: `${latestFrameTimeOnMs - timeOn}ms behind current: frame#${\n              dropFrame.frameInfo.Telemetry.FrameCount\n            }`,\n            uuid: UUID\n          })\n        );\n      } else {\n        console.warn(\"Lost web socket connection\");\n      }\n    }\n\n    // Take the latest frame and process it.\n    if (latestFrame !== null) {\n      await this.onFrame(latestFrame);\n      // if (DEBUG_MODE) {\n      //   updateFpsCounter(skippedFramesServer, skippedFramesClient);\n      // } else if (fpsCount.innerText !== \"\") {\n      //   fpsCount.innerText = \"\";\n      // }\n    }\n    this.state.stats.skippedFramesClient = 0;\n    this.state.stats.skippedFramesServer = 0;\n  }\n}\n","import {\n  CameraConnection,\n  CameraConnectionState,\n  Frame,\n  PartialFrame\n} from \"@/camera\";\n// import { WasmTracingAllocator } from \"@/tracing-allocator\";\nimport cptvPlayer, { FrameHeaderV2 } from \"../cptv_player\";\nimport { FrameProcessor, ImageInfo } from \"@/processing\";\nimport { InitialFrameInfo, ScreeningState } from \"@/types\";\nconst { initWithCptvData, getRawFrame } = cptvPlayer as any;\n\nlet usingLiveCamera = false;\nlet init = false;\nconst frameProcessor = await FrameProcessor();\n\nexport const processSensorData = async (\n  frame: PartialFrame\n): Promise<ImageInfo> => {\n  let msSinceLastFFC =\n    frame.frameInfo.Telemetry.TimeOn - frame.frameInfo.Telemetry.LastFFCTime;\n  if (usingLiveCamera) {\n    msSinceLastFFC = msSinceLastFFC / 1000 / 1000;\n  }\n  frameProcessor.analyse(\n    frame.frame,\n    frame.frameInfo.Calibration?.ThermalRefTemp ?? 37,\n    msSinceLastFFC\n  );\n  return frameProcessor.getFrame();\n};\n\nlet frameBuffer: Uint8Array = new Uint8Array(0);\n\nexport interface FrameMessage {\n  type: \"connectionStateChange\" | \"gotFrame\" | \"noThermalReference\";\n  payload: CameraConnectionState | Frame;\n}\n\ninterface PlaybackCommand {\n  useLiveCamera?: boolean;\n  dumpMemoryAllocations?: boolean;\n  hostname?: string;\n  port?: string;\n  cptvFileToPlayback?: string;\n  startFrame?: number;\n  endFrame?: number;\n}\n\nasync function processFrame(frame: PartialFrame) {\n  // Do the frame processing, then postMessage the relevant payload to the view app.\n  // Do this in yet another worker(s)?\n  const imageInfo = await processSensorData(frame);\n\n  (self as any).postMessage({\n    type: \"gotFrame\",\n    payload: {\n      frameInfo: frame.frameInfo,\n      frame: frame.frame,\n      bodyShape: imageInfo.bodyShape,\n      analysisResult: imageInfo.analysisResult\n    } as Frame\n  });\n}\n\nfunction onConnectionStateChange(connectionState: CameraConnectionState) {\n  (self as any).postMessage({\n    type: \"connectionStateChange\",\n    payload: connectionState\n  } as FrameMessage);\n}\n\nfunction getNextFrame(startFrame = -1, endFrame = -1) {\n  let frameInfo: FrameHeaderV2 = getRawFrame(frameBuffer);\n  while (\n    frameInfo.frame_number < startFrame ||\n    (endFrame != -1 && frameInfo.frame_number > endFrame)\n  ) {\n    frameInfo = getRawFrame(frameBuffer);\n  }\n  const appVersion = \"\";\n  const binaryVersion = \"\";\n  const currentFrame = {\n    frame: new Uint16Array(frameBuffer!.buffer),\n    frameInfo: {\n      ...InitialFrameInfo,\n      AppVersion: appVersion,\n      BinaryVersion: binaryVersion,\n      Telemetry: {\n        ...InitialFrameInfo.Telemetry,\n        LastFFCTime: frameInfo!.last_ffc_time,\n        FrameCount: frameInfo!.frame_number,\n        TimeOn: frameInfo!.time_on\n      }\n    }\n  };\n  frameInfo.free();\n  setTimeout(getNextFrame, 1000 / 9);\n  processFrame(currentFrame);\n}\n\nfunction playLocalCptvFile(\n  cptvFileBytes: ArrayBuffer,\n  startFrame = 0,\n  endFrame = -1\n) {\n  frameBuffer = new Uint8Array(160 * 120 * 2);\n  initWithCptvData(new Uint8Array(cptvFileBytes));\n  getNextFrame(0);\n}\n\n(self as any).onmessage = async (event: { data: PlaybackCommand }) => {\n  if (!init) {\n    init = true;\n    const message = event.data as PlaybackCommand;\n    usingLiveCamera = message.useLiveCamera || false;\n    if (message.useLiveCamera) {\n      new CameraConnection(\n        message.hostname!,\n        message.port!,\n        processFrame,\n        onConnectionStateChange\n      );\n      // Init live camera web-socket connection\n    } else if (message.cptvFileToPlayback) {\n      // Init CPTV file playback\n      const url = new URL(\"./cptv_player_bg.wasm\", import.meta.url);\n      await cptvPlayer(url);\n      const cptvFile = await fetch(message.cptvFileToPlayback);\n      const buffer = await cptvFile.arrayBuffer();\n      playLocalCptvFile(\n        buffer,\n        message.startFrame || 0,\n        message.endFrame || -1\n      );\n    }\n  }\n};\n","\nlet wasm;\n\nconst heap = new Array(32).fill(undefined);\n\nheap.push(undefined, null, true, false);\n\nfunction getObject(idx) { return heap[idx]; }\n\nlet heap_next = heap.length;\n\nfunction dropObject(idx) {\n    if (idx < 36) return;\n    heap[idx] = heap_next;\n    heap_next = idx;\n}\n\nfunction takeObject(idx) {\n    const ret = getObject(idx);\n    dropObject(idx);\n    return ret;\n}\n\nfunction isLikeNone(x) {\n    return x === undefined || x === null;\n}\n\nlet cachegetFloat64Memory0 = null;\nfunction getFloat64Memory0() {\n    if (cachegetFloat64Memory0 === null || cachegetFloat64Memory0.buffer !== wasm.memory.buffer) {\n        cachegetFloat64Memory0 = new Float64Array(wasm.memory.buffer);\n    }\n    return cachegetFloat64Memory0;\n}\n\nlet cachegetInt32Memory0 = null;\nfunction getInt32Memory0() {\n    if (cachegetInt32Memory0 === null || cachegetInt32Memory0.buffer !== wasm.memory.buffer) {\n        cachegetInt32Memory0 = new Int32Array(wasm.memory.buffer);\n    }\n    return cachegetInt32Memory0;\n}\n\nlet cachedTextDecoder = new TextDecoder('utf-8', { ignoreBOM: true, fatal: true });\n\ncachedTextDecoder.decode();\n\nlet cachegetUint8Memory0 = null;\nfunction getUint8Memory0() {\n    if (cachegetUint8Memory0 === null || cachegetUint8Memory0.buffer !== wasm.memory.buffer) {\n        cachegetUint8Memory0 = new Uint8Array(wasm.memory.buffer);\n    }\n    return cachegetUint8Memory0;\n}\n\nfunction getStringFromWasm0(ptr, len) {\n    return cachedTextDecoder.decode(getUint8Memory0().subarray(ptr, ptr + len));\n}\n\nfunction addHeapObject(obj) {\n    if (heap_next === heap.length) heap.push(heap.length + 1);\n    const idx = heap_next;\n    heap_next = heap[idx];\n\n    heap[idx] = obj;\n    return idx;\n}\n\nlet stack_pointer = 32;\n\nfunction addBorrowedObject(obj) {\n    if (stack_pointer == 1) throw new Error('out of js stack');\n    heap[--stack_pointer] = obj;\n    return stack_pointer;\n}\n/**\n* @param {Uint16Array} input_frame\n* @param {any} calibrated_thermal_ref_temp_c\n* @param {any} ms_since_last_ffc\n* @returns {AnalysisResult}\n*/\nexport function analyse(input_frame, calibrated_thermal_ref_temp_c, ms_since_last_ffc) {\n    try {\n        var ret = wasm.analyse(addBorrowedObject(input_frame), addBorrowedObject(calibrated_thermal_ref_temp_c), addBorrowedObject(ms_since_last_ffc));\n        return AnalysisResult.__wrap(ret);\n    } finally {\n        heap[stack_pointer++] = undefined;\n        heap[stack_pointer++] = undefined;\n        heap[stack_pointer++] = undefined;\n    }\n}\n\n/**\n* @returns {Float32Array}\n*/\nexport function getMedianSmoothed() {\n    var ret = wasm.getMedianSmoothed();\n    return takeObject(ret);\n}\n\n/**\n* @returns {Float32Array}\n*/\nexport function getDebug() {\n    var ret = wasm.getDebug();\n    return takeObject(ret);\n}\n\n/**\n* @returns {Uint8Array}\n*/\nexport function getThresholded() {\n    var ret = wasm.getThresholded();\n    return takeObject(ret);\n}\n\n/**\n* @returns {Uint8Array}\n*/\nexport function getBodyShape() {\n    var ret = wasm.getBodyShape();\n    return takeObject(ret);\n}\n\n/**\n* @returns {Uint8Array}\n*/\nexport function getFaceShape() {\n    var ret = wasm.getFaceShape();\n    return takeObject(ret);\n}\n\n/**\n* @returns {Float32Array}\n*/\nexport function getRadialSmoothed() {\n    var ret = wasm.getRadialSmoothed();\n    return takeObject(ret);\n}\n\n/**\n* @returns {Float32Array}\n*/\nexport function getEdges() {\n    var ret = wasm.getEdges();\n    return takeObject(ret);\n}\n\n/**\n* @param {any} _width\n* @param {any} _height\n*/\nexport function initialize(_width, _height) {\n    wasm.initialize(addHeapObject(_width), addHeapObject(_height));\n}\n\nfunction _assertClass(instance, klass) {\n    if (!(instance instanceof klass)) {\n        throw new Error(`expected instance of ${klass.name}`);\n    }\n    return instance.ptr;\n}\n\nlet WASM_VECTOR_LEN = 0;\n\nlet cachedTextEncoder = new TextEncoder('utf-8');\n\nconst encodeString = (typeof cachedTextEncoder.encodeInto === 'function'\n    ? function (arg, view) {\n    return cachedTextEncoder.encodeInto(arg, view);\n}\n    : function (arg, view) {\n    const buf = cachedTextEncoder.encode(arg);\n    view.set(buf);\n    return {\n        read: arg.length,\n        written: buf.length\n    };\n});\n\nfunction passStringToWasm0(arg, malloc, realloc) {\n\n    if (realloc === undefined) {\n        const buf = cachedTextEncoder.encode(arg);\n        const ptr = malloc(buf.length);\n        getUint8Memory0().subarray(ptr, ptr + buf.length).set(buf);\n        WASM_VECTOR_LEN = buf.length;\n        return ptr;\n    }\n\n    let len = arg.length;\n    let ptr = malloc(len);\n\n    const mem = getUint8Memory0();\n\n    let offset = 0;\n\n    for (; offset < len; offset++) {\n        const code = arg.charCodeAt(offset);\n        if (code > 0x7F) break;\n        mem[ptr + offset] = code;\n    }\n\n    if (offset !== len) {\n        if (offset !== 0) {\n            arg = arg.slice(offset);\n        }\n        ptr = realloc(ptr, len, len = offset + arg.length * 3);\n        const view = getUint8Memory0().subarray(ptr + offset, ptr + len);\n        const ret = encodeString(arg, view);\n\n        offset += ret.written;\n    }\n\n    WASM_VECTOR_LEN = offset;\n    return ptr;\n}\n/**\n*/\nexport const ScreeningState = Object.freeze({ WarmingUp:0,\"0\":\"WarmingUp\",Ready:1,\"1\":\"Ready\",HeadLock:2,\"2\":\"HeadLock\",TooFar:3,\"3\":\"TooFar\",HasBody:4,\"4\":\"HasBody\",FaceLock:5,\"5\":\"FaceLock\",FrontalLock:6,\"6\":\"FrontalLock\",StableLock:7,\"7\":\"StableLock\",Measured:8,\"8\":\"Measured\",MissingThermalRef:9,\"9\":\"MissingThermalRef\",Blurred:10,\"10\":\"Blurred\",AfterFfcEvent:11,\"11\":\"AfterFfcEvent\", });\n/**\n*/\nexport const HeadLockConfidence = Object.freeze({ Bad:0,\"0\":\"Bad\",Partial:1,\"1\":\"Partial\",Stable:2,\"2\":\"Stable\", });\n/**\n*/\nexport const InvalidReason = Object.freeze({ Unknown:0,\"0\":\"Unknown\",Valid:1,\"1\":\"Valid\",TooMuchTilt:2,\"2\":\"TooMuchTilt\", });\n/**\n*/\nexport class AnalysisResult {\n\n    static __wrap(ptr) {\n        const obj = Object.create(AnalysisResult.prototype);\n        obj.ptr = ptr;\n\n        return obj;\n    }\n\n    __destroy_into_raw() {\n        const ptr = this.ptr;\n        this.ptr = 0;\n\n        return ptr;\n    }\n\n    free() {\n        const ptr = this.__destroy_into_raw();\n        wasm.__wbg_analysisresult_free(ptr);\n    }\n    /**\n    * @returns {number}\n    */\n    get motionSum() {\n        var ret = wasm.__wbg_get_analysisresult_motionSum(this.ptr);\n        return ret;\n    }\n    /**\n    * @param {number} arg0\n    */\n    set motionSum(arg0) {\n        wasm.__wbg_set_analysisresult_motionSum(this.ptr, arg0);\n    }\n    /**\n    * @returns {number}\n    */\n    get motionThresholdSum() {\n        var ret = wasm.__wbg_get_analysisresult_motionThresholdSum(this.ptr);\n        return ret;\n    }\n    /**\n    * @param {number} arg0\n    */\n    set motionThresholdSum(arg0) {\n        wasm.__wbg_set_analysisresult_motionThresholdSum(this.ptr, arg0);\n    }\n    /**\n    * @returns {number}\n    */\n    get thresholdSum() {\n        var ret = wasm.__wbg_get_analysisresult_thresholdSum(this.ptr);\n        return ret;\n    }\n    /**\n    * @param {number} arg0\n    */\n    set thresholdSum(arg0) {\n        wasm.__wbg_set_analysisresult_thresholdSum(this.ptr, arg0);\n    }\n    /**\n    * @returns {number}\n    */\n    get frameBottomSum() {\n        var ret = wasm.__wbg_get_analysisresult_frameBottomSum(this.ptr);\n        return ret;\n    }\n    /**\n    * @param {number} arg0\n    */\n    set frameBottomSum(arg0) {\n        wasm.__wbg_set_analysisresult_frameBottomSum(this.ptr, arg0);\n    }\n    /**\n    * @returns {boolean}\n    */\n    get hasBody() {\n        var ret = wasm.__wbg_get_analysisresult_hasBody(this.ptr);\n        return ret !== 0;\n    }\n    /**\n    * @param {boolean} arg0\n    */\n    set hasBody(arg0) {\n        wasm.__wbg_set_analysisresult_hasBody(this.ptr, arg0);\n    }\n    /**\n    * @returns {HeatStats}\n    */\n    get heatStats() {\n        var ret = wasm.__wbg_get_analysisresult_heatStats(this.ptr);\n        return HeatStats.__wrap(ret);\n    }\n    /**\n    * @param {HeatStats} arg0\n    */\n    set heatStats(arg0) {\n        _assertClass(arg0, HeatStats);\n        var ptr0 = arg0.ptr;\n        arg0.ptr = 0;\n        wasm.__wbg_set_analysisresult_heatStats(this.ptr, ptr0);\n    }\n    /**\n    * @returns {FaceInfo}\n    */\n    get face() {\n        var ret = wasm.__wbg_get_analysisresult_face(this.ptr);\n        return FaceInfo.__wrap(ret);\n    }\n    /**\n    * @param {FaceInfo} arg0\n    */\n    set face(arg0) {\n        _assertClass(arg0, FaceInfo);\n        var ptr0 = arg0.ptr;\n        arg0.ptr = 0;\n        wasm.__wbg_set_analysisresult_face(this.ptr, ptr0);\n    }\n    /**\n    * @returns {number}\n    */\n    get nextState() {\n        var ret = wasm.__wbg_get_analysisresult_nextState(this.ptr);\n        return ret >>> 0;\n    }\n    /**\n    * @param {number} arg0\n    */\n    set nextState(arg0) {\n        wasm.__wbg_set_analysisresult_nextState(this.ptr, arg0);\n    }\n    /**\n    * @returns {ThermalReference}\n    */\n    get thermalReference() {\n        var ret = wasm.__wbg_get_analysisresult_thermalReference(this.ptr);\n        return ThermalReference.__wrap(ret);\n    }\n    /**\n    * @param {ThermalReference} arg0\n    */\n    set thermalReference(arg0) {\n        _assertClass(arg0, ThermalReference);\n        var ptr0 = arg0.ptr;\n        arg0.ptr = 0;\n        wasm.__wbg_set_analysisresult_thermalReference(this.ptr, ptr0);\n    }\n}\n/**\n*/\nexport class Circle {\n\n    static __wrap(ptr) {\n        const obj = Object.create(Circle.prototype);\n        obj.ptr = ptr;\n\n        return obj;\n    }\n\n    __destroy_into_raw() {\n        const ptr = this.ptr;\n        this.ptr = 0;\n\n        return ptr;\n    }\n\n    free() {\n        const ptr = this.__destroy_into_raw();\n        wasm.__wbg_circle_free(ptr);\n    }\n    /**\n    * @returns {Point}\n    */\n    get center() {\n        var ret = wasm.__wbg_get_circle_center(this.ptr);\n        return Point.__wrap(ret);\n    }\n    /**\n    * @param {Point} arg0\n    */\n    set center(arg0) {\n        _assertClass(arg0, Point);\n        var ptr0 = arg0.ptr;\n        arg0.ptr = 0;\n        wasm.__wbg_set_circle_center(this.ptr, ptr0);\n    }\n    /**\n    * @returns {number}\n    */\n    get radius() {\n        var ret = wasm.__wbg_get_circle_radius(this.ptr);\n        return ret;\n    }\n    /**\n    * @param {number} arg0\n    */\n    set radius(arg0) {\n        wasm.__wbg_set_circle_radius(this.ptr, arg0);\n    }\n}\n/**\n*/\nexport class FaceInfo {\n\n    static __wrap(ptr) {\n        const obj = Object.create(FaceInfo.prototype);\n        obj.ptr = ptr;\n\n        return obj;\n    }\n\n    __destroy_into_raw() {\n        const ptr = this.ptr;\n        this.ptr = 0;\n\n        return ptr;\n    }\n\n    free() {\n        const ptr = this.__destroy_into_raw();\n        wasm.__wbg_faceinfo_free(ptr);\n    }\n    /**\n    * @returns {boolean}\n    */\n    get isValid() {\n        var ret = wasm.__wbg_get_faceinfo_isValid(this.ptr);\n        return ret !== 0;\n    }\n    /**\n    * @param {boolean} arg0\n    */\n    set isValid(arg0) {\n        wasm.__wbg_set_faceinfo_isValid(this.ptr, arg0);\n    }\n    /**\n    * @returns {number}\n    */\n    get halfwayRatio() {\n        var ret = wasm.__wbg_get_faceinfo_halfwayRatio(this.ptr);\n        return ret;\n    }\n    /**\n    * @param {number} arg0\n    */\n    set halfwayRatio(arg0) {\n        wasm.__wbg_set_faceinfo_halfwayRatio(this.ptr, arg0);\n    }\n    /**\n    * @returns {number}\n    */\n    get headLock() {\n        var ret = wasm.__wbg_get_faceinfo_headLock(this.ptr);\n        return ret >>> 0;\n    }\n    /**\n    * @param {number} arg0\n    */\n    set headLock(arg0) {\n        wasm.__wbg_set_faceinfo_headLock(this.ptr, arg0);\n    }\n    /**\n    * @returns {Quad}\n    */\n    get head() {\n        var ret = wasm.__wbg_get_faceinfo_head(this.ptr);\n        return Quad.__wrap(ret);\n    }\n    /**\n    * @param {Quad} arg0\n    */\n    set head(arg0) {\n        _assertClass(arg0, Quad);\n        var ptr0 = arg0.ptr;\n        arg0.ptr = 0;\n        wasm.__wbg_set_faceinfo_head(this.ptr, ptr0);\n    }\n    /**\n    * @returns {Point}\n    */\n    get samplePoint() {\n        var ret = wasm.__wbg_get_faceinfo_samplePoint(this.ptr);\n        return Point.__wrap(ret);\n    }\n    /**\n    * @param {Point} arg0\n    */\n    set samplePoint(arg0) {\n        _assertClass(arg0, Point);\n        var ptr0 = arg0.ptr;\n        arg0.ptr = 0;\n        wasm.__wbg_set_faceinfo_samplePoint(this.ptr, ptr0);\n    }\n    /**\n    * @returns {number}\n    */\n    get sampleValue() {\n        var ret = wasm.__wbg_get_faceinfo_sampleValue(this.ptr);\n        return ret;\n    }\n    /**\n    * @param {number} arg0\n    */\n    set sampleValue(arg0) {\n        wasm.__wbg_set_faceinfo_sampleValue(this.ptr, arg0);\n    }\n    /**\n    * @returns {number}\n    */\n    get sampleTemp() {\n        var ret = wasm.__wbg_get_faceinfo_sampleTemp(this.ptr);\n        return ret;\n    }\n    /**\n    * @param {number} arg0\n    */\n    set sampleTemp(arg0) {\n        wasm.__wbg_set_faceinfo_sampleTemp(this.ptr, arg0);\n    }\n    /**\n    * @returns {Point}\n    */\n    get idealSamplePoint() {\n        var ret = wasm.__wbg_get_faceinfo_idealSamplePoint(this.ptr);\n        return Point.__wrap(ret);\n    }\n    /**\n    * @param {Point} arg0\n    */\n    set idealSamplePoint(arg0) {\n        _assertClass(arg0, Point);\n        var ptr0 = arg0.ptr;\n        arg0.ptr = 0;\n        wasm.__wbg_set_faceinfo_idealSamplePoint(this.ptr, ptr0);\n    }\n    /**\n    * @returns {number}\n    */\n    get idealSampleValue() {\n        var ret = wasm.__wbg_get_faceinfo_idealSampleValue(this.ptr);\n        return ret;\n    }\n    /**\n    * @param {number} arg0\n    */\n    set idealSampleValue(arg0) {\n        wasm.__wbg_set_faceinfo_idealSampleValue(this.ptr, arg0);\n    }\n    /**\n    * @returns {number}\n    */\n    get idealSampleTemp() {\n        var ret = wasm.__wbg_get_faceinfo_idealSampleTemp(this.ptr);\n        return ret;\n    }\n    /**\n    * @param {number} arg0\n    */\n    set idealSampleTemp(arg0) {\n        wasm.__wbg_set_faceinfo_idealSampleTemp(this.ptr, arg0);\n    }\n    /**\n    * @returns {number}\n    */\n    get reason() {\n        var ret = wasm.__wbg_get_faceinfo_reason(this.ptr);\n        return ret >>> 0;\n    }\n    /**\n    * @param {number} arg0\n    */\n    set reason(arg0) {\n        wasm.__wbg_set_faceinfo_reason(this.ptr, arg0);\n    }\n}\n/**\n*/\nexport class HeatStats {\n\n    static __wrap(ptr) {\n        const obj = Object.create(HeatStats.prototype);\n        obj.ptr = ptr;\n\n        return obj;\n    }\n\n    __destroy_into_raw() {\n        const ptr = this.ptr;\n        this.ptr = 0;\n\n        return ptr;\n    }\n\n    free() {\n        const ptr = this.__destroy_into_raw();\n        wasm.__wbg_heatstats_free(ptr);\n    }\n    /**\n    * @returns {number}\n    */\n    get min() {\n        var ret = wasm.__wbg_get_heatstats_min(this.ptr);\n        return ret;\n    }\n    /**\n    * @param {number} arg0\n    */\n    set min(arg0) {\n        wasm.__wbg_set_heatstats_min(this.ptr, arg0);\n    }\n    /**\n    * @returns {number}\n    */\n    get max() {\n        var ret = wasm.__wbg_get_heatstats_max(this.ptr);\n        return ret;\n    }\n    /**\n    * @param {number} arg0\n    */\n    set max(arg0) {\n        wasm.__wbg_set_heatstats_max(this.ptr, arg0);\n    }\n    /**\n    * @returns {number}\n    */\n    get threshold() {\n        var ret = wasm.__wbg_get_heatstats_threshold(this.ptr);\n        return ret;\n    }\n    /**\n    * @param {number} arg0\n    */\n    set threshold(arg0) {\n        wasm.__wbg_set_heatstats_threshold(this.ptr, arg0);\n    }\n}\n/**\n*/\nexport class Point {\n\n    static __wrap(ptr) {\n        const obj = Object.create(Point.prototype);\n        obj.ptr = ptr;\n\n        return obj;\n    }\n\n    __destroy_into_raw() {\n        const ptr = this.ptr;\n        this.ptr = 0;\n\n        return ptr;\n    }\n\n    free() {\n        const ptr = this.__destroy_into_raw();\n        wasm.__wbg_point_free(ptr);\n    }\n    /**\n    * @returns {number}\n    */\n    get x() {\n        var ret = wasm.__wbg_get_point_x(this.ptr);\n        return ret;\n    }\n    /**\n    * @param {number} arg0\n    */\n    set x(arg0) {\n        wasm.__wbg_set_point_x(this.ptr, arg0);\n    }\n    /**\n    * @returns {number}\n    */\n    get y() {\n        var ret = wasm.__wbg_get_point_y(this.ptr);\n        return ret;\n    }\n    /**\n    * @param {number} arg0\n    */\n    set y(arg0) {\n        wasm.__wbg_set_point_y(this.ptr, arg0);\n    }\n}\n/**\n*/\nexport class Quad {\n\n    static __wrap(ptr) {\n        const obj = Object.create(Quad.prototype);\n        obj.ptr = ptr;\n\n        return obj;\n    }\n\n    __destroy_into_raw() {\n        const ptr = this.ptr;\n        this.ptr = 0;\n\n        return ptr;\n    }\n\n    free() {\n        const ptr = this.__destroy_into_raw();\n        wasm.__wbg_quad_free(ptr);\n    }\n    /**\n    * @returns {Point}\n    */\n    get topLeft() {\n        var ret = wasm.__wbg_get_circle_center(this.ptr);\n        return Point.__wrap(ret);\n    }\n    /**\n    * @param {Point} arg0\n    */\n    set topLeft(arg0) {\n        _assertClass(arg0, Point);\n        var ptr0 = arg0.ptr;\n        arg0.ptr = 0;\n        wasm.__wbg_set_circle_center(this.ptr, ptr0);\n    }\n    /**\n    * @returns {Point}\n    */\n    get topRight() {\n        var ret = wasm.__wbg_get_quad_topRight(this.ptr);\n        return Point.__wrap(ret);\n    }\n    /**\n    * @param {Point} arg0\n    */\n    set topRight(arg0) {\n        _assertClass(arg0, Point);\n        var ptr0 = arg0.ptr;\n        arg0.ptr = 0;\n        wasm.__wbg_set_quad_topRight(this.ptr, ptr0);\n    }\n    /**\n    * @returns {Point}\n    */\n    get bottomLeft() {\n        var ret = wasm.__wbg_get_quad_bottomLeft(this.ptr);\n        return Point.__wrap(ret);\n    }\n    /**\n    * @param {Point} arg0\n    */\n    set bottomLeft(arg0) {\n        _assertClass(arg0, Point);\n        var ptr0 = arg0.ptr;\n        arg0.ptr = 0;\n        wasm.__wbg_set_quad_bottomLeft(this.ptr, ptr0);\n    }\n    /**\n    * @returns {Point}\n    */\n    get bottomRight() {\n        var ret = wasm.__wbg_get_quad_bottomRight(this.ptr);\n        return Point.__wrap(ret);\n    }\n    /**\n    * @param {Point} arg0\n    */\n    set bottomRight(arg0) {\n        _assertClass(arg0, Point);\n        var ptr0 = arg0.ptr;\n        arg0.ptr = 0;\n        wasm.__wbg_set_quad_bottomRight(this.ptr, ptr0);\n    }\n}\n/**\n*/\nexport class ThermalReference {\n\n    static __wrap(ptr) {\n        const obj = Object.create(ThermalReference.prototype);\n        obj.ptr = ptr;\n\n        return obj;\n    }\n\n    __destroy_into_raw() {\n        const ptr = this.ptr;\n        this.ptr = 0;\n\n        return ptr;\n    }\n\n    free() {\n        const ptr = this.__destroy_into_raw();\n        wasm.__wbg_thermalreference_free(ptr);\n    }\n    /**\n    * @returns {Circle}\n    */\n    get geom() {\n        var ret = wasm.__wbg_get_thermalreference_geom(this.ptr);\n        return Circle.__wrap(ret);\n    }\n    /**\n    * @param {Circle} arg0\n    */\n    set geom(arg0) {\n        _assertClass(arg0, Circle);\n        var ptr0 = arg0.ptr;\n        arg0.ptr = 0;\n        wasm.__wbg_set_thermalreference_geom(this.ptr, ptr0);\n    }\n    /**\n    * @returns {number}\n    */\n    get val() {\n        var ret = wasm.__wbg_get_thermalreference_val(this.ptr);\n        return ret;\n    }\n    /**\n    * @param {number} arg0\n    */\n    set val(arg0) {\n        wasm.__wbg_set_thermalreference_val(this.ptr, arg0);\n    }\n    /**\n    * @returns {number}\n    */\n    get temp() {\n        var ret = wasm.__wbg_get_thermalreference_temp(this.ptr);\n        return ret;\n    }\n    /**\n    * @param {number} arg0\n    */\n    set temp(arg0) {\n        wasm.__wbg_set_thermalreference_temp(this.ptr, arg0);\n    }\n}\n\nasync function load(module, imports) {\n    if (typeof Response === 'function' && module instanceof Response) {\n        if (typeof WebAssembly.instantiateStreaming === 'function') {\n            try {\n                return await WebAssembly.instantiateStreaming(module, imports);\n\n            } catch (e) {\n                if (module.headers.get('Content-Type') != 'application/wasm') {\n                    console.warn(\"`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\\n\", e);\n\n                } else {\n                    throw e;\n                }\n            }\n        }\n\n        const bytes = await module.arrayBuffer();\n        return await WebAssembly.instantiate(bytes, imports);\n\n    } else {\n        const instance = await WebAssembly.instantiate(module, imports);\n\n        if (instance instanceof WebAssembly.Instance) {\n            return { instance, module };\n\n        } else {\n            return instance;\n        }\n    }\n}\n\nasync function init(input) {\n    if (typeof input === 'undefined') {\n        input = new URL('tko_processing_bg.wasm', process.env.BASE_URL);\n    }\n    const imports = {};\n    imports.wbg = {};\n    imports.wbg.__wbindgen_object_drop_ref = function(arg0) {\n        takeObject(arg0);\n    };\n    imports.wbg.__wbg_new_59cb74e423758ede = function() {\n        var ret = new Error();\n        return addHeapObject(ret);\n    };\n    imports.wbg.__wbg_stack_558ba5917b466edd = function(arg0, arg1) {\n        var ret = getObject(arg1).stack;\n        var ptr0 = passStringToWasm0(ret, wasm.__wbindgen_malloc, wasm.__wbindgen_realloc);\n        var len0 = WASM_VECTOR_LEN;\n        getInt32Memory0()[arg0 / 4 + 1] = len0;\n        getInt32Memory0()[arg0 / 4 + 0] = ptr0;\n    };\n    imports.wbg.__wbg_error_4bb6c2a97407129a = function(arg0, arg1) {\n        try {\n            console.error(getStringFromWasm0(arg0, arg1));\n        } finally {\n            wasm.__wbindgen_free(arg0, arg1);\n        }\n    };\n    imports.wbg.__wbg_buffer_ebc6c8e75510eae3 = function(arg0) {\n        var ret = getObject(arg0).buffer;\n        return addHeapObject(ret);\n    };\n    imports.wbg.__wbg_newwithbyteoffsetandlength_ca3d3d8811ecb569 = function(arg0, arg1, arg2) {\n        var ret = new Uint8Array(getObject(arg0), arg1 >>> 0, arg2 >>> 0);\n        return addHeapObject(ret);\n    };\n    imports.wbg.__wbg_length_d984ad757a338649 = function(arg0) {\n        var ret = getObject(arg0).length;\n        return ret;\n    };\n    imports.wbg.__wbg_new_3df503b9c443e990 = function(arg0) {\n        var ret = new Uint16Array(getObject(arg0));\n        return addHeapObject(ret);\n    };\n    imports.wbg.__wbg_set_b629c9b89ba1d25c = function(arg0, arg1, arg2) {\n        getObject(arg0).set(getObject(arg1), arg2 >>> 0);\n    };\n    imports.wbg.__wbg_newwithbyteoffsetandlength_ab2b53c614369e0e = function(arg0, arg1, arg2) {\n        var ret = new Float32Array(getObject(arg0), arg1 >>> 0, arg2 >>> 0);\n        return addHeapObject(ret);\n    };\n    imports.wbg.__wbindgen_number_get = function(arg0, arg1) {\n        const obj = getObject(arg1);\n        var ret = typeof(obj) === 'number' ? obj : undefined;\n        getFloat64Memory0()[arg0 / 8 + 1] = isLikeNone(ret) ? 0 : ret;\n        getInt32Memory0()[arg0 / 4 + 0] = !isLikeNone(ret);\n    };\n    imports.wbg.__wbindgen_throw = function(arg0, arg1) {\n        throw new Error(getStringFromWasm0(arg0, arg1));\n    };\n    imports.wbg.__wbindgen_memory = function() {\n        var ret = wasm.memory;\n        return addHeapObject(ret);\n    };\n\n    if (typeof input === 'string' || (typeof Request === 'function' && input instanceof Request) || (typeof URL === 'function' && input instanceof URL)) {\n        input = fetch(input);\n    }\n\n\n\n    const { instance, module } = await load(await input, imports);\n\n    wasm = instance.exports;\n    init.__wbindgen_wasm_module = module;\n\n    return wasm;\n}\n\nexport default init;\n\n","import tkoProcessing, {\n  initialize,\n  getBodyShape,\n  analyse\n} from \"../processing/tko_processing\";\n//import {initialize, getBodyShape, analyse } from \"../processing\";\nimport { AnalysisResult, extractResult } from \"@/types\";\n\ninterface AnalysisInfo {\n  frame: number;\n  image: Promise<ImageInfo>[];\n}\nexport interface ImageInfo {\n  analysisResult: AnalysisResult;\n  bodyShape?: Uint8Array;\n}\n\nexport async function FrameProcessor() {\n  const url = new URL(\"./tko_processing_bg.wasm\", import.meta.url);\n  await tkoProcessing(url);\n  initialize(120, 160);\n  let frameCount = 0;\n  const analysisRace: { frame: number; image: Promise<ImageInfo> }[] = [];\n  return {\n    analyse(\n      frame: Uint16Array,\n      calibrationTempC: number,\n      msSinceLastFFC: number\n    ) {\n      const currFrame = frameCount;\n      const analysis = new Promise<ImageInfo>(resolve => {\n        const analysisResult = analyse(frame, calibrationTempC, msSinceLastFFC);\n        const bodyShape = getBodyShape().slice(0);\n        const result = extractResult(analysisResult);\n        const index = analysisRace.findIndex(val => val.frame === currFrame);\n        if (!(index <= 0)) {\n          const removedFrames = analysisRace.splice(0, index);\n          if (removedFrames.length > 1) {\n            console.log(\n              \"Could not keep up proccesing frames. Removing frames: \",\n              removedFrames\n            );\n          }\n        }\n        resolve({\n          bodyShape,\n          analysisResult: result\n        } as ImageInfo);\n      });\n      frameCount += 1;\n      analysisRace.push({ frame: currFrame, image: analysis });\n    },\n    async getFrame(): Promise<ImageInfo> {\n      const image = await Promise.race(analysisRace.map(val => val.image));\n      analysisRace.splice(0, analysisRace.length);\n      return image;\n    }\n  };\n}\n","import { CameraConnectionState, Frame } from \"./camera\";\nimport { DegreesCelsius } from \"@/utils\";\nimport { Point } from \"@/geom\";\nimport { AnalysisResult as ProcessResult } from \"../processing/tko_processing\";\n\nexport const DEFAULT_THRESHOLD_MIN_FEVER = 37.5;\nexport const FactoryDefaultCalibration: CalibrationInfo = {\n  ThermalRefTemp: 37.87441329956055,\n  SnapshotTime: 0,\n  TemperatureCelsius: 37.5,\n  SnapshotValue: 30197.9765625,\n  ThresholdMinFever: DEFAULT_THRESHOLD_MIN_FEVER,\n  HeadBLX: 0,\n  HeadBLY: 0,\n  HeadBRX: 0,\n  HeadBRY: 0,\n  HeadTLX: 0,\n  HeadTLY: 0,\n  HeadTRX: 0,\n  HeadTRY: 0,\n  CalibrationBinaryVersion: \"abcde\", // Fill these out.\n  UuidOfUpdater: 432423432432, // Fill these out.\n  UseNormalSound: true,\n  UseWarningSound: true,\n  UseErrorSound: true\n};\n\nexport interface CalibrationInfo {\n  ThermalRefTemp: number;\n  SnapshotTime: number;\n  TemperatureCelsius: number;\n  SnapshotValue: number;\n  ThresholdMinFever: number;\n  HeadTLX: number;\n  HeadTLY: number;\n  HeadBLX: number;\n  HeadBLY: number;\n  HeadTRX: number;\n  HeadTRY: number;\n  HeadBRX: number;\n  HeadBRY: number;\n  CalibrationBinaryVersion: string;\n  UuidOfUpdater: number;\n  UseNormalSound: boolean;\n  UseWarningSound: boolean;\n  UseErrorSound: boolean;\n}\n\nexport type BoxOffset = \"left\" | \"right\" | \"top\" | \"bottom\";\nexport interface CropBox {\n  left: number;\n  right: number;\n  top: number;\n  bottom: number;\n}\nexport interface BoundingBox {\n  x0: number;\n  x1: number;\n  y0: number;\n  y1: number;\n}\n\nexport enum ScreeningState {\n  INIT = \"INIT\",\n  WARMING_UP = \"WARMING_UP\",\n  READY = \"READY\", // no face\n  HEAD_LOCK = \"HEAD_LOCK\",\n  TOO_FAR = \"TOO_FAR\",\n  LARGE_BODY = \"LARGE_BODY\",\n  MULTIPLE_HEADS = \"MULTIPLE_HEADS\",\n  FACE_LOCK = \"FACE_LOCK\", // has face\n  FRONTAL_LOCK = \"FRONTAL_LOCK\", // Face is front-on\n  STABLE_LOCK = \"STABLE_LOCK\", // Face has not changed in size or position for a couple of frames.\n  MEASURED = \"MEASURED\", // has face, but not front-on\n  MISSING_THERMAL_REF = \"MISSING_REF\",\n  BLURRED = \"BLURRED\",\n  AFTER_FFC_EVENT = \"AFTER_FFC_EVENT\"\n}\n\nexport interface CalibrationConfig {\n  timestamp: Date;\n  thermalReferenceRawValue: number;\n  hotspotRawTemperatureValue: number;\n  calibrationTemperature: DegreesCelsius;\n  thermalRefTemperature: DegreesCelsius;\n  thresholdMinFever: number;\n  playNormalSound: boolean;\n  playErrorSound: boolean;\n  playWarningSound: boolean;\n  head: { tL: Point; tR: Point; bL: Point; bR: Point };\n}\n\nexport interface Circle {\n  center: Point;\n  radius: number;\n}\n\nexport interface ThermalReference {\n  geom: Circle;\n  val: number;\n  temp: number;\n}\n\nexport interface ScreeningEvent {\n  timestamp: Date;\n  rawTemperatureValue: number;\n  calculatedValue: number;\n  sampleX: number;\n  sampleY: number;\n  frame: Frame;\n  thermalReference: ThermalReference;\n  face: FaceInfo;\n}\n\nexport interface FaceInfo {\n  halfwayRatio: number;\n  headLock: number;\n  isValid: boolean;\n  samplePoint: Point;\n  sampleValue: number;\n  sampleTemp: number;\n  head: {\n    topLeft: Point;\n    topRight: Point;\n    bottomLeft: Point;\n    bottomRight: Point;\n  };\n}\n\nexport interface AnalysisResult {\n  motionSum: number;\n  motionThresholdSum: number;\n  thresholdSum: number;\n  frameBottomSum: number;\n  heatStats: {\n    min: number;\n    max: number;\n    threshold: number;\n  };\n  face: FaceInfo;\n  nextState: ScreeningState;\n  hasBody: boolean;\n  thermalRef: ThermalReference;\n}\n\nexport const InitialFrameInfo = {\n  Camera: {\n    ResX: 160,\n    ResY: 120,\n    FPS: 9,\n    Brand: \"flir\",\n    Model: \"lepton3.5\",\n    Firmware: \"3.3.26\",\n    CameraSerial: 12345\n  },\n  Telemetry: {\n    FrameCount: 1,\n    TimeOn: 1,\n    FFCState: \"On\",\n    FrameMean: 0,\n    TempC: 0,\n    LastFFCTempC: 0,\n    LastFFCTime: 0\n  },\n  AppVersion: \"\",\n  BinaryVersion: \"\",\n  Calibration: FactoryDefaultCalibration\n};\n\nexport interface AppState {\n  currentFrame: Frame | null;\n  cameraConnectionState: CameraConnectionState;\n  face: FaceInfo | null;\n  currentCalibration: CalibrationConfig;\n  currentScreeningEvent: ScreeningEvent | null;\n  currentScreeningState: ScreeningState;\n  currentScreeningStateFrameCount: number;\n  paused: boolean;\n  lastFrameTime: number;\n  uuid: number;\n  analysisResult: AnalysisResult;\n}\n\nfunction getScreeningState(state: number): ScreeningState {\n  let screeningState = ScreeningState.INIT;\n  switch (state) {\n    case 0:\n      screeningState = ScreeningState.WARMING_UP;\n      break;\n    case 1:\n      screeningState = ScreeningState.READY;\n      break;\n    case 2:\n      screeningState = ScreeningState.HEAD_LOCK;\n      break;\n    case 3:\n      screeningState = ScreeningState.TOO_FAR;\n      break;\n    case 4:\n      screeningState = ScreeningState.LARGE_BODY;\n      break;\n    case 5:\n      screeningState = ScreeningState.FACE_LOCK;\n      break;\n    case 6:\n      screeningState = ScreeningState.FRONTAL_LOCK;\n      break;\n    case 7:\n      screeningState = ScreeningState.STABLE_LOCK;\n      break;\n    case 8:\n      screeningState = ScreeningState.MEASURED;\n      break;\n    case 9:\n      screeningState = ScreeningState.MISSING_THERMAL_REF;\n      break;\n    case 10:\n      screeningState = ScreeningState.BLURRED;\n      break;\n    case 11:\n      screeningState = ScreeningState.AFTER_FFC_EVENT;\n      break;\n  }\n  return screeningState;\n}\n\nexport function extractResult(analysisResult: ProcessResult) {\n  const f = analysisResult.face;\n  const h = f.head;\n  const tL = h.topLeft;\n  const tR = h.topRight;\n  const bL = h.bottomLeft;\n  const bR = h.bottomRight;\n  const sP = f.samplePoint;\n  const hS = analysisResult.heatStats;\n  const ref = analysisResult.thermalReference;\n  const geom = analysisResult.thermalReference.geom;\n  const cP = geom.center;\n\n  const copiedAnalysisResult: AnalysisResult = {\n    face: {\n      headLock: f.headLock,\n      head: {\n        topLeft: {\n          x: tL.x,\n          y: tL.y\n        },\n        topRight: {\n          x: tR.x,\n          y: tR.y\n        },\n        bottomLeft: {\n          x: bL.x,\n          y: bL.y\n        },\n        bottomRight: {\n          x: bR.x,\n          y: bR.y\n        }\n      },\n      samplePoint: {\n        x: sP.x,\n        y: sP.y\n      },\n      sampleTemp: f.sampleTemp,\n      sampleValue: f.sampleValue,\n      halfwayRatio: f.halfwayRatio,\n      isValid: f.isValid\n    },\n    frameBottomSum: analysisResult.frameBottomSum,\n    motionSum: analysisResult.motionSum,\n    heatStats: {\n      threshold: hS.threshold,\n      min: hS.min,\n      max: hS.max\n    },\n    motionThresholdSum: analysisResult.motionThresholdSum,\n    thresholdSum: analysisResult.thresholdSum,\n    nextState: getScreeningState(analysisResult.nextState),\n    hasBody: analysisResult.hasBody,\n    thermalRef: {\n      geom: {\n        center: {\n          x: cP.x,\n          y: cP.y\n        },\n        radius: geom.radius\n      },\n      val: ref.val,\n      temp: ref.temp\n    }\n  };\n\n  f.free();\n  h.free();\n  tL.free();\n  tR.free();\n  bL.free();\n  bR.free();\n  sP.free();\n  hS.free();\n  cP.free();\n  geom.free();\n  ref.free();\n  analysisResult.free();\n  return copiedAnalysisResult;\n}\n","export const BlobReader = (function(): {\n  arrayBuffer: (blob: Blob) => Promise<ArrayBuffer>;\n} {\n  // For comparability with older browsers/iOS that don't yet support arrayBuffer()\n  // directly off the blob object\n  const arrayBuffer: (blob: Blob) => Promise<ArrayBuffer> =\n    \"arrayBuffer\" in Blob.prototype &&\n    typeof (Blob.prototype as Blob)[\"arrayBuffer\"] === \"function\"\n      ? (blob: Blob) => blob[\"arrayBuffer\"]()\n      : (blob: Blob) =>\n          new Promise((resolve, reject) => {\n            const fileReader = new FileReader();\n            fileReader.addEventListener(\"load\", () => {\n              resolve(fileReader.result as ArrayBuffer);\n            });\n            fileReader.addEventListener(\"error\", () => {\n              reject();\n            });\n            fileReader.readAsArrayBuffer(blob);\n          });\n\n  return {\n    arrayBuffer\n  };\n})();\n\nexport class DegreesCelsius {\n  public val: number;\n  constructor(val: number) {\n    this.val = val;\n  }\n  public toString(): string {\n    if (this.val === undefined) {\n      debugger;\n    }\n    return `${this.val.toFixed(1)}`;\n  }\n}\n\nexport const temperatureForSensorValue = (\n  savedThermalRefValue: number,\n  rawValue: number,\n  currentThermalRefValue: number\n): DegreesCelsius => {\n  return new DegreesCelsius(\n    savedThermalRefValue + (rawValue - currentThermalRefValue) * 0.01\n  );\n};\n\nexport function saveCurrentVersion(binaryVersion: string, appVersion: string) {\n  window.localStorage.setItem(\n    \"softwareVersion\",\n    JSON.stringify({\n      appVersion,\n      binaryVersion\n    })\n  );\n}\n\nexport function checkForSoftwareUpdates(\n  binaryVersion: string,\n  appVersion: string,\n  shouldReloadIfChanged = true\n): boolean {\n  const prevVersionJSON = window.localStorage.getItem(\"softwareVersion\");\n  if (prevVersionJSON) {\n    try {\n      const prevVersion = JSON.parse(prevVersionJSON);\n      if (\n        binaryVersion &&\n        appVersion &&\n        (prevVersion.binaryVersion != binaryVersion ||\n          prevVersion.appVersion != appVersion)\n      ) {\n        if (shouldReloadIfChanged) {\n          console.log(\n            \"reload because version changed\",\n            JSON.stringify(prevVersion),\n            binaryVersion,\n            appVersion\n          );\n          window.location.reload();\n        } else {\n          saveCurrentVersion(binaryVersion, appVersion);\n          // Display info that the software has updated since last started up.\n          return true;\n        }\n      }\n    } catch (e) {\n      saveCurrentVersion(binaryVersion, appVersion);\n      return false;\n    }\n  } else {\n    saveCurrentVersion(binaryVersion, appVersion);\n  }\n  return false;\n}\n","(function() {\n    const __exports = {};\n    let wasm;\n\n    /**\n    * @param {number} size\n    */\n    __exports.initBufferWithSize = function(size) {\n        wasm.initBufferWithSize(size);\n    };\n\n    let cachegetUint8Memory = null;\n    function getUint8Memory() {\n        if (cachegetUint8Memory === null || cachegetUint8Memory.buffer !== wasm.memory.buffer) {\n            cachegetUint8Memory = new Uint8Array(wasm.memory.buffer);\n        }\n        return cachegetUint8Memory;\n    }\n\n    let WASM_VECTOR_LEN = 0;\n\n    function passArray8ToWasm(arg) {\n        const ptr = wasm.__wbindgen_malloc(arg.length * 1);\n        getUint8Memory().set(arg, ptr / 1);\n        WASM_VECTOR_LEN = arg.length;\n        return ptr;\n    }\n    /**\n    * @param {Uint8Array} chunk\n    * @param {number} offset\n    */\n    __exports.insertChunkAtOffset = function(chunk, offset) {\n        wasm.insertChunkAtOffset(passArray8ToWasm(chunk), WASM_VECTOR_LEN, offset);\n    };\n\n    const heap = new Array(32);\n\n    heap.fill(undefined);\n\n    heap.push(undefined, null, true, false);\n\nfunction getObject(idx) { return heap[idx]; }\n\nlet heap_next = heap.length;\n\nfunction dropObject(idx) {\n    if (idx < 36) return;\n    heap[idx] = heap_next;\n    heap_next = idx;\n}\n\nfunction takeObject(idx) {\n    const ret = getObject(idx);\n    dropObject(idx);\n    return ret;\n}\n/**\n* @param {Uint8Array} input\n* @returns {any}\n*/\n__exports.initWithCptvData = function(input) {\n    const ret = wasm.initWithCptvData(passArray8ToWasm(input), WASM_VECTOR_LEN);\n    return takeObject(ret);\n};\n\n/**\n* @returns {number}\n*/\n__exports.getNumFrames = function() {\n    const ret = wasm.getNumFrames();\n    return ret >>> 0;\n};\n\n/**\n* @returns {number}\n*/\n__exports.getWidth = function() {\n    const ret = wasm.getWidth();\n    return ret >>> 0;\n};\n\n/**\n* @returns {number}\n*/\n__exports.getHeight = function() {\n    const ret = wasm.getHeight();\n    return ret >>> 0;\n};\n\n/**\n* @returns {number}\n*/\n__exports.getFrameRate = function() {\n    const ret = wasm.getFrameRate();\n    return ret;\n};\n\n/**\n* @returns {number}\n*/\n__exports.getFramesPerIframe = function() {\n    const ret = wasm.getFramesPerIframe();\n    return ret;\n};\n\n/**\n* @returns {number}\n*/\n__exports.getMinValue = function() {\n    const ret = wasm.getMinValue();\n    return ret;\n};\n\n/**\n* @returns {number}\n*/\n__exports.getMaxValue = function() {\n    const ret = wasm.getMaxValue();\n    return ret;\n};\n\n/**\n* @returns {any}\n*/\n__exports.getHeader = function() {\n    const ret = wasm.getHeader();\n    return takeObject(ret);\n};\n\nfunction addHeapObject(obj) {\n    if (heap_next === heap.length) heap.push(heap.length + 1);\n    const idx = heap_next;\n    heap_next = heap[idx];\n\n    heap[idx] = obj;\n    return idx;\n}\n/**\n* @param {number} number\n* @param {any} callback\n* @returns {boolean}\n*/\n__exports.queueFrame = function(number, callback) {\n    const ret = wasm.queueFrame(number, addHeapObject(callback));\n    return ret !== 0;\n};\n\n/**\n* @param {number} number\n* @param {Uint8Array} image_data\n* @returns {boolean}\n*/\n__exports.getFrame = function(number, image_data) {\n    const ptr0 = passArray8ToWasm(image_data);\n    const len0 = WASM_VECTOR_LEN;\n    try {\n        const ret = wasm.getFrame(number, ptr0, len0);\n        return ret !== 0;\n    } finally {\n        image_data.set(getUint8Memory().subarray(ptr0 / 1, ptr0 / 1 + len0));\n        wasm.__wbindgen_free(ptr0, len0 * 1);\n    }\n};\n\n/**\n* @param {Uint8Array} image_data\n* @returns {FrameHeaderV2}\n*/\n__exports.getRawFrame = function(image_data) {\n    const ptr0 = passArray8ToWasm(image_data);\n    const len0 = WASM_VECTOR_LEN;\n    try {\n        const ret = wasm.getRawFrame(ptr0, len0);\n        return FrameHeaderV2.__wrap(ret);\n    } finally {\n        image_data.set(getUint8Memory().subarray(ptr0 / 1, ptr0 / 1 + len0));\n        wasm.__wbindgen_free(ptr0, len0 * 1);\n    }\n};\n\nlet cachedTextDecoder = new TextDecoder('utf-8', { ignoreBOM: true, fatal: true });\n\ncachedTextDecoder.decode();\n\nfunction getStringFromWasm(ptr, len) {\n    return cachedTextDecoder.decode(getUint8Memory().subarray(ptr, ptr + len));\n}\n\nlet cachedTextEncoder = new TextEncoder('utf-8');\n\nconst encodeString = (typeof cachedTextEncoder.encodeInto === 'function'\n    ? function (arg, view) {\n    return cachedTextEncoder.encodeInto(arg, view);\n}\n    : function (arg, view) {\n    const buf = cachedTextEncoder.encode(arg);\n    view.set(buf);\n    return {\n        read: arg.length,\n        written: buf.length\n    };\n});\n\nfunction passStringToWasm(arg) {\n\n    let len = arg.length;\n    let ptr = wasm.__wbindgen_malloc(len);\n\n    const mem = getUint8Memory();\n\n    let offset = 0;\n\n    for (; offset < len; offset++) {\n        const code = arg.charCodeAt(offset);\n        if (code > 0x7F) break;\n        mem[ptr + offset] = code;\n    }\n\n    if (offset !== len) {\n        if (offset !== 0) {\n            arg = arg.slice(offset);\n        }\n        ptr = wasm.__wbindgen_realloc(ptr, len, len = offset + arg.length * 3);\n        const view = getUint8Memory().subarray(ptr + offset, ptr + len);\n        const ret = encodeString(arg, view);\n\n        offset += ret.written;\n    }\n\n    WASM_VECTOR_LEN = offset;\n    return ptr;\n}\n\nlet cachegetInt32Memory = null;\nfunction getInt32Memory() {\n    if (cachegetInt32Memory === null || cachegetInt32Memory.buffer !== wasm.memory.buffer) {\n        cachegetInt32Memory = new Int32Array(wasm.memory.buffer);\n    }\n    return cachegetInt32Memory;\n}\n/**\n*/\nclass FrameHeaderV2 {\n\n    static __wrap(ptr) {\n        const obj = Object.create(FrameHeaderV2.prototype);\n        obj.ptr = ptr;\n\n        return obj;\n    }\n\n    free() {\n        const ptr = this.ptr;\n        this.ptr = 0;\n\n        wasm.__wbg_frameheaderv2_free(ptr);\n    }\n    /**\n    * @returns {number}\n    */\n    get time_on() {\n        const ret = wasm.__wbg_get_frameheaderv2_time_on(this.ptr);\n        return ret >>> 0;\n    }\n    /**\n    * @param {number} arg0\n    */\n    set time_on(arg0) {\n        wasm.__wbg_set_frameheaderv2_time_on(this.ptr, arg0);\n    }\n    /**\n    * @returns {number}\n    */\n    get last_ffc_time() {\n        const ret = wasm.__wbg_get_frameheaderv2_last_ffc_time(this.ptr);\n        return ret >>> 0;\n    }\n    /**\n    * @param {number} arg0\n    */\n    set last_ffc_time(arg0) {\n        wasm.__wbg_set_frameheaderv2_last_ffc_time(this.ptr, arg0);\n    }\n    /**\n    * @returns {number}\n    */\n    get frame_number() {\n        const ret = wasm.__wbg_get_frameheaderv2_frame_number(this.ptr);\n        return ret >>> 0;\n    }\n    /**\n    * @param {number} arg0\n    */\n    set frame_number(arg0) {\n        wasm.__wbg_set_frameheaderv2_frame_number(this.ptr, arg0);\n    }\n    /**\n    * @returns {boolean}\n    */\n    get has_next_frame() {\n        const ret = wasm.__wbg_get_frameheaderv2_has_next_frame(this.ptr);\n        return ret !== 0;\n    }\n    /**\n    * @param {boolean} arg0\n    */\n    set has_next_frame(arg0) {\n        wasm.__wbg_set_frameheaderv2_has_next_frame(this.ptr, arg0);\n    }\n}\n__exports.FrameHeaderV2 = FrameHeaderV2;\n\nfunction init(module) {\n\n    let result;\n    const imports = {};\n    imports.wbg = {};\n    imports.wbg.__wbindgen_object_drop_ref = function(arg0) {\n        takeObject(arg0);\n    };\n    imports.wbg.__wbindgen_string_new = function(arg0, arg1) {\n        const ret = getStringFromWasm(arg0, arg1);\n        return addHeapObject(ret);\n    };\n    imports.wbg.__widl_f_debug_1_ = function(arg0) {\n        console.debug(getObject(arg0));\n    };\n    imports.wbg.__widl_f_error_1_ = function(arg0) {\n        console.error(getObject(arg0));\n    };\n    imports.wbg.__widl_f_info_1_ = function(arg0) {\n        console.info(getObject(arg0));\n    };\n    imports.wbg.__widl_f_log_1_ = function(arg0) {\n        console.log(getObject(arg0));\n    };\n    imports.wbg.__widl_f_warn_1_ = function(arg0) {\n        console.warn(getObject(arg0));\n    };\n    imports.wbg.__wbg_new_59cb74e423758ede = function() {\n        const ret = new Error();\n        return addHeapObject(ret);\n    };\n    imports.wbg.__wbg_stack_558ba5917b466edd = function(arg0, arg1) {\n        const ret = getObject(arg1).stack;\n        const ret0 = passStringToWasm(ret);\n        const ret1 = WASM_VECTOR_LEN;\n        getInt32Memory()[arg0 / 4 + 0] = ret0;\n        getInt32Memory()[arg0 / 4 + 1] = ret1;\n    };\n    imports.wbg.__wbg_error_4bb6c2a97407129a = function(arg0, arg1) {\n        const v0 = getStringFromWasm(arg0, arg1).slice();\n        wasm.__wbindgen_free(arg0, arg1 * 1);\n        console.error(v0);\n    };\n    imports.wbg.__wbindgen_throw = function(arg0, arg1) {\n        throw new Error(getStringFromWasm(arg0, arg1));\n    };\n    imports.wbg.__wbindgen_rethrow = function(arg0) {\n        throw takeObject(arg0);\n    };\n\n    if ((typeof URL === 'function' && module instanceof URL) || typeof module === 'string' || (typeof Request === 'function' && module instanceof Request)) {\n\n        const response = fetch(module);\n        if (typeof WebAssembly.instantiateStreaming === 'function') {\n            result = WebAssembly.instantiateStreaming(response, imports)\n            .catch(e => {\n                return response\n                .then(r => {\n                    if (r.headers.get('Content-Type') != 'application/wasm') {\n                        console.warn(\"`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\\n\", e);\n                        return r.arrayBuffer();\n                    } else {\n                        throw e;\n                    }\n                })\n                .then(bytes => WebAssembly.instantiate(bytes, imports));\n            });\n        } else {\n            result = response\n            .then(r => r.arrayBuffer())\n            .then(bytes => WebAssembly.instantiate(bytes, imports));\n        }\n    } else {\n\n        result = WebAssembly.instantiate(module, imports)\n        .then(result => {\n            if (result instanceof WebAssembly.Instance) {\n                return { instance: result, module };\n            } else {\n                return result;\n            }\n        });\n    }\n    return result.then(({instance, module}) => {\n        wasm = instance.exports;\n        init.__wbindgen_wasm_module = module;\n\n        return wasm;\n    });\n}\n\nself.wasm_bindgen = Object.assign(init, __exports);\n\n})();\nexport default self.wasm_bindgen;\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var webpackThen = typeof Symbol === \"function\" ? Symbol(\"webpack then\") : \"__webpack_then__\";\nvar webpackExports = typeof Symbol === \"function\" ? Symbol(\"webpack exports\") : \"__webpack_exports__\";\nvar completeQueue = (queue) => {\n\tif(queue) {\n\t\tqueue.forEach((fn) => (fn.r--));\n\t\tqueue.forEach((fn) => (fn.r-- ? fn.r++ : fn()));\n\t}\n}\nvar completeFunction = (fn) => (!--fn.r && fn());\nvar queueFunction = (queue, fn) => (queue ? queue.push(fn) : completeFunction(fn));\nvar wrapDeps = (deps) => (deps.map((dep) => {\n\tif(dep !== null && typeof dep === \"object\") {\n\t\tif(dep[webpackThen]) return dep;\n\t\tif(dep.then) {\n\t\t\tvar queue = [];\n\t\t\tdep.then((r) => {\n\t\t\t\tobj[webpackExports] = r;\n\t\t\t\tcompleteQueue(queue);\n\t\t\t\tqueue = 0;\n\t\t\t});\n\t\t\tvar obj = {};\n\t\t\t\t\t\t\t\t\t\tobj[webpackThen] = (fn, reject) => (queueFunction(queue, fn), dep.catch(reject));\n\t\t\treturn obj;\n\t\t}\n\t}\n\tvar ret = {};\n\t\t\t\t\t\tret[webpackThen] = (fn) => (completeFunction(fn));\n\t\t\t\t\t\tret[webpackExports] = dep;\n\t\t\t\t\t\treturn ret;\n}));\n__webpack_require__.a = (module, body, hasAwait) => {\n\tvar queue = hasAwait && [];\n\tvar exports = module.exports;\n\tvar currentDeps;\n\tvar outerResolve;\n\tvar reject;\n\tvar isEvaluating = true;\n\tvar nested = false;\n\tvar whenAll = (deps, onResolve, onReject) => {\n\t\tif (nested) return;\n\t\tnested = true;\n\t\tonResolve.r += deps.length;\n\t\tdeps.map((dep, i) => (dep[webpackThen](onResolve, onReject)));\n\t\tnested = false;\n\t};\n\tvar promise = new Promise((resolve, rej) => {\n\t\treject = rej;\n\t\touterResolve = () => (resolve(exports), completeQueue(queue), queue = 0);\n\t});\n\tpromise[webpackExports] = exports;\n\tpromise[webpackThen] = (fn, rejectFn) => {\n\t\tif (isEvaluating) { return completeFunction(fn); }\n\t\tif (currentDeps) whenAll(currentDeps, fn, rejectFn);\n\t\tqueueFunction(queue, fn);\n\t\tpromise.catch(rejectFn);\n\t};\n\tmodule.exports = promise;\n\tbody((deps) => {\n\t\tif(!deps) return outerResolve();\n\t\tcurrentDeps = wrapDeps(deps);\n\t\tvar fn, result;\n\t\tvar promise = new Promise((resolve, reject) => {\n\t\t\tfn = () => (resolve(result = currentDeps.map((d) => (d[webpackExports]))));\n\t\t\tfn.r = 0;\n\t\t\twhenAll(currentDeps, fn, reject);\n\t\t});\n\t\treturn fn.r ? promise : result;\n\t}).then(outerResolve, reject);\n\tisEvaluating = false;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","__webpack_require__.p = \"/static/dist/\";","__webpack_require__.b = self.location + \"/../../\";\n\n// object to store loaded chunks\n// \"1\" means \"already loaded\"\nvar installedChunks = {\n\t352: 1\n};\n\n// no chunk install function needed\n// no chunk loading\n\n// no HMR\n\n// no HMR manifest","","// startup\n// Load entry module and return exports\n// This entry module used 'module' so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(3352);\n",""],"names":["wasm","heap","Array","fill","undefined","push","getObject","idx","heap_next","length","dropObject","takeObject","ret","isLikeNone","x","cachegetFloat64Memory0","getFloat64Memory0","buffer","memory","Float64Array","cachegetInt32Memory0","getInt32Memory0","Int32Array","cachedTextDecoder","TextDecoder","ignoreBOM","fatal","decode","cachegetUint8Memory0","getUint8Memory0","Uint8Array","getStringFromWasm0","ptr","len","subarray","addHeapObject","obj","stack_pointer","addBorrowedObject","Error","analyse","input_frame","calibrated_thermal_ref_temp_c","ms_since_last_ffc","AnalysisResult","__wrap","getMedianSmoothed","getDebug","getThresholded","getBodyShape","getFaceShape","getRadialSmoothed","getEdges","initialize","_width","_height","_assertClass","instance","klass","name","WASM_VECTOR_LEN","cachedTextEncoder","TextEncoder","encodeString","encodeInto","arg","view","buf","encode","set","read","written","passStringToWasm0","malloc","realloc","mem","offset","code","charCodeAt","slice","ScreeningState","Object","freeze","WarmingUp","Ready","HeadLock","TooFar","HasBody","FaceLock","FrontalLock","StableLock","Measured","MissingThermalRef","Blurred","AfterFfcEvent","HeadLockConfidence","Bad","Partial","Stable","InvalidReason","Unknown","Valid","TooMuchTilt","create","prototype","__destroy_into_raw","free","__wbg_analysisresult_free","motionSum","__wbg_get_analysisresult_motionSum","arg0","__wbg_set_analysisresult_motionSum","motionThresholdSum","__wbg_get_analysisresult_motionThresholdSum","__wbg_set_analysisresult_motionThresholdSum","thresholdSum","__wbg_get_analysisresult_thresholdSum","__wbg_set_analysisresult_thresholdSum","frameBottomSum","__wbg_get_analysisresult_frameBottomSum","__wbg_set_analysisresult_frameBottomSum","hasBody","__wbg_get_analysisresult_hasBody","__wbg_set_analysisresult_hasBody","heatStats","__wbg_get_analysisresult_heatStats","HeatStats","ptr0","__wbg_set_analysisresult_heatStats","face","__wbg_get_analysisresult_face","FaceInfo","__wbg_set_analysisresult_face","nextState","__wbg_get_analysisresult_nextState","__wbg_set_analysisresult_nextState","thermalReference","__wbg_get_analysisresult_thermalReference","ThermalReference","__wbg_set_analysisresult_thermalReference","Circle","__wbg_circle_free","center","__wbg_get_circle_center","Point","__wbg_set_circle_center","radius","__wbg_get_circle_radius","__wbg_set_circle_radius","__wbg_faceinfo_free","isValid","__wbg_get_faceinfo_isValid","__wbg_set_faceinfo_isValid","halfwayRatio","__wbg_get_faceinfo_halfwayRatio","__wbg_set_faceinfo_halfwayRatio","headLock","__wbg_get_faceinfo_headLock","__wbg_set_faceinfo_headLock","head","__wbg_get_faceinfo_head","Quad","__wbg_set_faceinfo_head","samplePoint","__wbg_get_faceinfo_samplePoint","__wbg_set_faceinfo_samplePoint","sampleValue","__wbg_get_faceinfo_sampleValue","__wbg_set_faceinfo_sampleValue","sampleTemp","__wbg_get_faceinfo_sampleTemp","__wbg_set_faceinfo_sampleTemp","idealSamplePoint","__wbg_get_faceinfo_idealSamplePoint","__wbg_set_faceinfo_idealSamplePoint","idealSampleValue","__wbg_get_faceinfo_idealSampleValue","__wbg_set_faceinfo_idealSampleValue","idealSampleTemp","__wbg_get_faceinfo_idealSampleTemp","__wbg_set_faceinfo_idealSampleTemp","reason","__wbg_get_faceinfo_reason","__wbg_set_faceinfo_reason","__wbg_heatstats_free","min","__wbg_get_heatstats_min","__wbg_set_heatstats_min","max","__wbg_get_heatstats_max","__wbg_set_heatstats_max","threshold","__wbg_get_heatstats_threshold","__wbg_set_heatstats_threshold","__wbg_point_free","__wbg_get_point_x","__wbg_set_point_x","y","__wbg_get_point_y","__wbg_set_point_y","__wbg_quad_free","topLeft","topRight","__wbg_get_quad_topRight","__wbg_set_quad_topRight","bottomLeft","__wbg_get_quad_bottomLeft","__wbg_set_quad_bottomLeft","bottomRight","__wbg_get_quad_bottomRight","__wbg_set_quad_bottomRight","__wbg_thermalreference_free","geom","__wbg_get_thermalreference_geom","__wbg_set_thermalreference_geom","val","__wbg_get_thermalreference_val","__wbg_set_thermalreference_val","temp","__wbg_get_thermalreference_temp","__wbg_set_thermalreference_temp","load","module","imports","Response","WebAssembly","instantiateStreaming","e","headers","get","console","warn","bytes","arrayBuffer","instantiate","Instance","init","input","URL","process","env","BASE_URL","wbg","__wbindgen_object_drop_ref","__wbg_new_59cb74e423758ede","__wbg_stack_558ba5917b466edd","arg1","stack","__wbindgen_malloc","__wbindgen_realloc","len0","__wbg_error_4bb6c2a97407129a","error","__wbindgen_free","__wbg_buffer_ebc6c8e75510eae3","__wbg_newwithbyteoffsetandlength_ca3d3d8811ecb569","arg2","__wbg_length_d984ad757a338649","__wbg_new_3df503b9c443e990","Uint16Array","__wbg_set_b629c9b89ba1d25c","__wbg_newwithbyteoffsetandlength_ab2b53c614369e0e","Float32Array","__wbindgen_number_get","__wbindgen_throw","__wbindgen_memory","Request","fetch","exports","__wbindgen_wasm_module","__exports","initBufferWithSize","size","cachegetUint8Memory","getUint8Memory","passArray8ToWasm","insertChunkAtOffset","chunk","initWithCptvData","getNumFrames","getWidth","getHeight","getFrameRate","getFramesPerIframe","getMinValue","getMaxValue","getHeader","queueFrame","number","callback","getFrame","image_data","getRawFrame","FrameHeaderV2","getStringFromWasm","passStringToWasm","cachegetInt32Memory","getInt32Memory","__wbg_frameheaderv2_free","time_on","__wbg_get_frameheaderv2_time_on","__wbg_set_frameheaderv2_time_on","last_ffc_time","__wbg_get_frameheaderv2_last_ffc_time","__wbg_set_frameheaderv2_last_ffc_time","frame_number","__wbg_get_frameheaderv2_frame_number","__wbg_set_frameheaderv2_frame_number","has_next_frame","__wbg_get_frameheaderv2_has_next_frame","__wbg_set_frameheaderv2_has_next_frame","result","__wbindgen_string_new","__widl_f_debug_1_","debug","__widl_f_error_1_","__widl_f_info_1_","info","__widl_f_log_1_","log","__widl_f_warn_1_","ret0","ret1","v0","__wbindgen_rethrow","response","catch","then","r","self","wasm_bindgen","assign"],"sourceRoot":""}